<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 15 Dataframe wrangling | The Datatrain R Bootcamp</title>
  <meta name="description" content="A resource &amp; workbook for the Datatrain R Bootcamp" />
  <meta name="generator" content="bookdown 0.28.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 15 Dataframe wrangling | The Datatrain R Bootcamp" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A resource &amp; workbook for the Datatrain R Bootcamp" />
  <meta name="github-repo" content="datatrainglobal/rbootcamp" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 15 Dataframe wrangling | The Datatrain R Bootcamp" />
  
  <meta name="twitter:description" content="A resource &amp; workbook for the Datatrain R Bootcamp" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="ggplot.html"/>
<link rel="next" href="markdown-documentation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">www.datatrain.cc</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-this-is-and-what-it-isnt"><i class="fa fa-check"></i>What this is, and what it isn’t</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-this-is-for"><i class="fa fa-check"></i>Who this is for</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i>What you will learn</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-are-we"><i class="fa fa-check"></i>Who are we?</a></li>
</ul></li>
<li class="part"><span><b>I Core theory</b></span></li>
<li class="chapter" data-level="2" data-path="what-is-data-science.html"><a href="what-is-data-science.html"><i class="fa fa-check"></i><b>2</b> What is data science?</a>
<ul>
<li class="chapter" data-level="" data-path="what-is-data-science.html"><a href="what-is-data-science.html#what-is-the-data-life-cycle"><i class="fa fa-check"></i>What is the data life cycle?</a></li>
<li class="chapter" data-level="" data-path="what-is-data-science.html"><a href="what-is-data-science.html#data-science-in-the-wild"><i class="fa fa-check"></i>Data science ‘in the wild’</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html"><i class="fa fa-check"></i><b>3</b> The reproducibility crisis</a>
<ul>
<li class="chapter" data-level="" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html#the-crisis"><i class="fa fa-check"></i>The crisis</a></li>
<li class="chapter" data-level="" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html#the-reproducibility-movement"><i class="fa fa-check"></i>The ‘reproducibility’ movement</a></li>
<li class="chapter" data-level="" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html#why-r"><i class="fa fa-check"></i>Why <code>R</code>?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-ethics.html"><a href="data-ethics.html"><i class="fa fa-check"></i><b>4</b> Data ethics</a>
<ul>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#a-few-principles"><i class="fa fa-check"></i>A few principles</a></li>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#warm-up-scenarios"><i class="fa fa-check"></i>Warm up scenarios</a></li>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#case-studies"><i class="fa fa-check"></i>Case studies</a></li>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#more-scenarios"><i class="fa fa-check"></i>More scenarios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>5</b> Visualizing data</a>
<ul>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#the-value-of-data-viz"><i class="fa fa-check"></i>The value of <em>data viz</em></a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#plot-gallery"><i class="fa fa-check"></i>Plot gallery</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#chart-junk"><i class="fa fa-check"></i>Chart junk</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#final-thoughts"><i class="fa fa-check"></i>Final thoughts</a></li>
</ul></li>
<li class="part"><span><b>II Getting sta<code>r</code>ted</b></span></li>
<li class="chapter" data-level="6" data-path="setting-up-rstudio.html"><a href="setting-up-rstudio.html"><i class="fa fa-check"></i><b>6</b> Setting up <code>RStudio</code></a></li>
<li class="chapter" data-level="7" data-path="running-r-code.html"><a href="running-r-code.html"><i class="fa fa-check"></i><b>7</b> Running R code</a>
<ul>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#running-code-in-the-console"><i class="fa fa-check"></i>Running code in the <em>Console</em></a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#use-r-like-a-calculator"><i class="fa fa-check"></i>Use R like a calculator</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#getting-along-with-r"><i class="fa fa-check"></i>Getting along with <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html"><i class="fa fa-check"></i><b>8</b> Using <code>RStudio</code> &amp; <code>R</code> scripts</a>
<ul>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#r-and-rstudio-whats-the-difference"><i class="fa fa-check"></i><code>R</code> and <code>RStudio</code>: what’s the difference?</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#two-minute-tour-of-rstudio"><i class="fa fa-check"></i>Two-minute tour of <code>RStudio</code></a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#scripts"><i class="fa fa-check"></i>Scripts</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#wd"><i class="fa fa-check"></i>Your working directory</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#typical-workflows"><i class="fa fa-check"></i>Typical workflows</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="variables.html"><a href="variables.html"><i class="fa fa-check"></i><b>9</b> Variables</a>
<ul>
<li class="chapter" data-level="" data-path="variables.html"><a href="variables.html#introducing-variables"><i class="fa fa-check"></i>Introducing variables</a></li>
<li class="chapter" data-level="" data-path="variables.html"><a href="variables.html#types-of-data-in-r"><i class="fa fa-check"></i>Types of data in <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>10</b> Vectors</a>
<ul>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#declaring-and-using-vectors"><i class="fa fa-check"></i>Declaring and using vectors</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#math-with-two-vectors"><i class="fa fa-check"></i>Math with two vectors</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#functions-for-handling-vectors"><i class="fa fa-check"></i>Functions for handling vectors</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#subsetting-vectors"><i class="fa fa-check"></i>Subsetting vectors</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>11</b> Dataframes</a>
<ul>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#subsetting-exploring-dataframes"><i class="fa fa-check"></i>Subsetting &amp; exploring dataframes</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#creating-dataframes"><i class="fa fa-check"></i>Creating dataframes</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#modifying-dataframes"><i class="fa fa-check"></i>Modifying dataframes</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>12</b> Packages</a>
<ul>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#packages-you-already-have"><i class="fa fa-check"></i>Packages you already have</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#installing-a-new-package"><i class="fa fa-check"></i>Installing a new package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#loading-an-installed-package"><i class="fa fa-check"></i>Loading an installed package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#calling-functions-from-a-package"><i class="fa fa-check"></i>Calling functions from a package</a></li>
</ul></li>
<li class="part"><span><b>III Basic <code>R</code> workflow</b></span></li>
<li class="chapter" data-level="13" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>13</b> Importing data</a>
<ul>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#reading-in-data"><i class="fa fa-check"></i>Reading in data</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#csv-files"><i class="fa fa-check"></i><code>.csv</code> files</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#prepping-your-data-for-r"><i class="fa fa-check"></i>Prepping your data for <code>R</code></a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#managing-files-folders"><i class="fa fa-check"></i>Managing files &amp; folders</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ggplot.html"><a href="ggplot.html"><i class="fa fa-check"></i><b>14</b> <code>ggplot</code></a>
<ul>
<li class="chapter" data-level="" data-path="ggplot.html"><a href="ggplot.html#what-is-ggplot2"><i class="fa fa-check"></i>What is <code>ggplot2</code>?</a></li>
<li class="chapter" data-level="" data-path="ggplot.html"><a href="ggplot.html#scatter-plot"><i class="fa fa-check"></i>Scatter plot</a></li>
<li class="chapter" data-level="" data-path="ggplot.html"><a href="ggplot.html#bar-plot"><i class="fa fa-check"></i>Bar plot</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>15</b> Dataframe wrangling</a>
<ul>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#the-dplyr-package"><i class="fa fa-check"></i>The <code>dplyr</code> package</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#the-pipe"><i class="fa fa-check"></i>The <code>%&gt;%</code> pipe</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#dplyr-verbs"><i class="fa fa-check"></i><code>dplyr</code> verbs</a></li>
</ul></li>
<li class="part"><span><b>IV Reproducible research</b></span></li>
<li class="chapter" data-level="16" data-path="markdown-documentation.html"><a href="markdown-documentation.html"><i class="fa fa-check"></i><b>16</b> <code>Markdown</code> documentation</a>
<ul>
<li class="chapter" data-level="" data-path="markdown-documentation.html"><a href="markdown-documentation.html#what-is-markdown"><i class="fa fa-check"></i>What is <code>Markdown</code>?</a></li>
<li class="chapter" data-level="" data-path="markdown-documentation.html"><a href="markdown-documentation.html#raw-markdown-example"><i class="fa fa-check"></i>Raw <code>Markdown</code> example</a></li>
<li class="chapter" data-level="" data-path="markdown-documentation.html"><a href="markdown-documentation.html#exercises-8"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>17</b> <code>R Markdown</code></a>
<ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#do-first-explain-later"><i class="fa fa-check"></i>Do first, explain later</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#add-an-r-chunk"><i class="fa fa-check"></i>Add an <code>R</code> chunk</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#in-line-r-code"><i class="fa fa-check"></i>In-line <code>R</code> code</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#tables"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#bibliographies"><i class="fa fa-check"></i>Bibliographies</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="interactive-maps.html"><a href="interactive-maps.html"><i class="fa fa-check"></i><b>18</b> Interactive maps</a>
<ul>
<li class="chapter" data-level="" data-path="interactive-maps.html"><a href="interactive-maps.html#mapping-with-leaflet"><i class="fa fa-check"></i>Mapping with <code>leaflet</code></a></li>
<li class="chapter" data-level="" data-path="interactive-maps.html"><a href="interactive-maps.html#geocoding"><i class="fa fa-check"></i>Geocoding</a></li>
<li class="chapter" data-level="" data-path="interactive-maps.html"><a href="interactive-maps.html#final-thoughts-1"><i class="fa fa-check"></i>Final thoughts</a></li>
</ul></li>
<li class="part"><span><b>V Review exercises</b></span></li>
<li class="chapter" data-level="19" data-path="a-mystery-dataset.html"><a href="a-mystery-dataset.html"><i class="fa fa-check"></i><b>19</b> A mystery dataset</a></li>
<li class="chapter" data-level="20" data-path="global-health-ggplot.html"><a href="global-health-ggplot.html"><i class="fa fa-check"></i><b>20</b> Global health &amp; <code>ggplot</code></a></li>
<li class="divider"></li>
<li><a href="https://github.com/datatrainglobal/rbootcamp" target="blank">Datatrain's R Bootcamp</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Datatrain R Bootcamp</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dplyr" class="section level1 hasAnchor" number="15">
<h1><span class="header-section-number">Module 15</span> Dataframe wrangling<a href="dplyr.html#dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="learning-goals-7" class="section level4 unnumbered hasAnchor" number="">
<h4>Learning goals<a href="dplyr.html#learning-goals-7" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Understand the importance of <em>tidy</em> dataframes</li>
<li>Understand what the <code>tidyverse</code> is and why it is awesome</li>
<li>Feel comfortable working with dataframes using <code>dplyr</code> functions.</li>
</ul>
</div>
<div id="the-dplyr-package" class="section level2 unnumbered hasAnchor" number="">
<h2>The <code>dplyr</code> package<a href="dplyr.html#the-dplyr-package" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data scientists largely work in data frames and <em>do things</em> to data. This is what the package <code>dplyr</code> is optimized for. It consists of a series of “verbs” which cover 95% of what you need to do for most basic data processing tasks.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="dplyr.html#cb195-1" aria-hidden="true"></a><span class="kw">install.packages</span>(<span class="st">&#39;dplyr&#39;</span>) <span class="co"># if you haven&#39;t yet</span></span></code></pre></div>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="dplyr.html#cb196-1" aria-hidden="true"></a><span class="kw">library</span>(dplyr)</span></code></pre></div>
<p>The <code>dplyr</code> package contains a set of <code>verbs</code>: things you do to dataframes. Those verbs are:</p>
<ul>
<li><strong><code>filter()</code></strong><br />
</li>
<li><strong><code>arrange()</code></strong><br />
</li>
<li><strong><code>select()</code></strong><br />
</li>
<li><strong><code>rename()</code></strong><br />
</li>
<li><strong><code>distinct()</code></strong><br />
</li>
<li><strong><code>mutate()</code></strong><br />
</li>
<li><strong><code>summarise()</code></strong></li>
</ul>
</div>
<div id="the-pipe" class="section level2 unnumbered hasAnchor" number="">
<h2>The <code>%&gt;%</code> pipe<a href="dplyr.html#the-pipe" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong><code>%&gt;%</code></strong> is a “pipe”. It is a way to write code without so many parentheses. For example, what if I want to find the square root of the sum of the first six elements of a sequence of 10 to 20 by 2?</p>
<p>Here’s what that command would look like in base <code>R</code>:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="dplyr.html#cb197-1" aria-hidden="true"></a><span class="kw">sqrt</span>(<span class="kw">sum</span>(<span class="kw">head</span>(<span class="kw">seq</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">2</span>))))</span>
<span id="cb197-2"><a href="dplyr.html#cb197-2" aria-hidden="true"></a>[<span class="dv">1</span>] <span class="fl">9.486833</span></span></code></pre></div>
<p>Pretty overwhelming, and pretty easy to make errors in writing it out.</p>
<p>But the above could also be written a simpler way:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="dplyr.html#cb198-1" aria-hidden="true"></a><span class="kw">seq</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span>head <span class="op">%&gt;%</span><span class="st"> </span>sum <span class="op">%&gt;%</span><span class="st"> </span>sqrt</span>
<span id="cb198-2"><a href="dplyr.html#cb198-2" aria-hidden="true"></a>[<span class="dv">1</span>] <span class="fl">9.486833</span></span></code></pre></div>
<p>When you see the <strong><code>%&gt;%</code></strong> pipe symbol, think of the word <strong>“then”</strong>.</p>
<p>The above code could be read aloud like so: “First, get a sequence of every second number between 10 and 20. <strong>Then</strong>, take the first six values. <strong>Then</strong>, sum those samples together. <strong>Then</strong>, take the square root of that sum.”</p>
<p>Using the <code>%&gt;%</code> pipe framework, your code turns from a nonlinear series of parentheses and brackets to a linear progression of steps, which is a closer fit to how we tend to think about working with data. Instead of working from the inside of a command outward, we thinking linearly: take the data, <strong>then</strong> do things with it, <strong>then</strong> do more things with it, etc.</p>
<p>Here’s another example:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="dplyr.html#cb199-1" aria-hidden="true"></a><span class="kw">mean</span>(<span class="kw">sd</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>))</span>
<span id="cb199-2"><a href="dplyr.html#cb199-2" aria-hidden="true"></a>[<span class="dv">1</span>] <span class="fl">29.01149</span></span></code></pre></div>
<p>… could also be written as:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="dplyr.html#cb200-1" aria-hidden="true"></a><span class="dv">1</span><span class="op">:</span><span class="dv">100</span> <span class="op">%&gt;%</span><span class="st"> </span>sd <span class="op">%&gt;%</span><span class="st"> </span>mean</span>
<span id="cb200-2"><a href="dplyr.html#cb200-2" aria-hidden="true"></a>[<span class="dv">1</span>] <span class="fl">29.01149</span></span></code></pre></div>
</div>
<div id="dplyr-verbs" class="section level2 unnumbered hasAnchor" number="">
<h2><code>dplyr</code> verbs<a href="dplyr.html#dplyr-verbs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To practice the <code>dplyr</code> verbs, let’s make a small dataframe named <code>people</code>:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="dplyr.html#cb201-1" aria-hidden="true"></a>people &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">who =</span> <span class="kw">c</span>(<span class="st">&#39;Joe&#39;</span>, <span class="st">&#39;Ben&#39;</span>, <span class="st">&#39;Xing&#39;</span>, <span class="st">&#39;Coloma&#39;</span>),</span>
<span id="cb201-2"><a href="dplyr.html#cb201-2" aria-hidden="true"></a>                    <span class="dt">sex =</span> <span class="kw">c</span>(<span class="st">&#39;Male&#39;</span>, <span class="st">&#39;Male&#39;</span>, <span class="st">&#39;Female&#39;</span>, <span class="st">&#39;Female&#39;</span>),</span>
<span id="cb201-3"><a href="dplyr.html#cb201-3" aria-hidden="true"></a>                    <span class="dt">age =</span> <span class="kw">c</span>(<span class="dv">35</span>, <span class="dv">33</span>, <span class="dv">32</span>, <span class="dv">34</span>))</span>
<span id="cb201-4"><a href="dplyr.html#cb201-4" aria-hidden="true"></a>people</span>
<span id="cb201-5"><a href="dplyr.html#cb201-5" aria-hidden="true"></a>     who    sex age</span>
<span id="cb201-6"><a href="dplyr.html#cb201-6" aria-hidden="true"></a><span class="dv">1</span>    Joe   Male  <span class="dv">35</span></span>
<span id="cb201-7"><a href="dplyr.html#cb201-7" aria-hidden="true"></a><span class="dv">2</span>    Ben   Male  <span class="dv">33</span></span>
<span id="cb201-8"><a href="dplyr.html#cb201-8" aria-hidden="true"></a><span class="dv">3</span>   Xing Female  <span class="dv">32</span></span>
<span id="cb201-9"><a href="dplyr.html#cb201-9" aria-hidden="true"></a><span class="dv">4</span> Coloma Female  <span class="dv">34</span></span></code></pre></div>
<div id="filter" class="section level3 unnumbered hasAnchor" number="">
<h3><code>filter()</code><a href="dplyr.html#filter" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>filter()</code> function is used to subset a dataframe, retaining all rows that satisfy your conditions. To be retained, the row must produce a value of <code>TRUE</code> for all conditions.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="dplyr.html#cb202-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &#39;Male&#39;</span>)</span>
<span id="cb202-2"><a href="dplyr.html#cb202-2" aria-hidden="true"></a>  who  sex age</span>
<span id="cb202-3"><a href="dplyr.html#cb202-3" aria-hidden="true"></a><span class="dv">1</span> Joe Male  <span class="dv">35</span></span>
<span id="cb202-4"><a href="dplyr.html#cb202-4" aria-hidden="true"></a><span class="dv">2</span> Ben Male  <span class="dv">33</span></span></code></pre></div>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="dplyr.html#cb203-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &#39;Female&#39;</span>)</span>
<span id="cb203-2"><a href="dplyr.html#cb203-2" aria-hidden="true"></a>     who    sex age</span>
<span id="cb203-3"><a href="dplyr.html#cb203-3" aria-hidden="true"></a><span class="dv">1</span>   Xing Female  <span class="dv">32</span></span>
<span id="cb203-4"><a href="dplyr.html#cb203-4" aria-hidden="true"></a><span class="dv">2</span> Coloma Female  <span class="dv">34</span></span></code></pre></div>
<p>You can also filter according to multiple conditions. Here are three ways to acheive the same thing:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="dplyr.html#cb204-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &#39;Female&#39;</span> <span class="op">&amp;</span><span class="st"> </span>age <span class="op">&lt;</span><span class="st"> </span><span class="dv">33</span>)</span>
<span id="cb204-2"><a href="dplyr.html#cb204-2" aria-hidden="true"></a>   who    sex age</span>
<span id="cb204-3"><a href="dplyr.html#cb204-3" aria-hidden="true"></a><span class="dv">1</span> Xing Female  <span class="dv">32</span></span></code></pre></div>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="dplyr.html#cb205-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &#39;Female&#39;</span>, age <span class="op">&lt;</span><span class="st"> </span><span class="dv">33</span>)</span>
<span id="cb205-2"><a href="dplyr.html#cb205-2" aria-hidden="true"></a>   who    sex age</span>
<span id="cb205-3"><a href="dplyr.html#cb205-3" aria-hidden="true"></a><span class="dv">1</span> Xing Female  <span class="dv">32</span></span></code></pre></div>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="dplyr.html#cb206-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &#39;Female&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(age <span class="op">&lt;</span><span class="st"> </span><span class="dv">33</span>)</span>
<span id="cb206-2"><a href="dplyr.html#cb206-2" aria-hidden="true"></a>   who    sex age</span>
<span id="cb206-3"><a href="dplyr.html#cb206-3" aria-hidden="true"></a><span class="dv">1</span> Xing Female  <span class="dv">32</span></span></code></pre></div>
<p>Note that when a condition evaluates to <code>NA</code>, its row will be dropped. This differ from the base subsetting works with <code>[ ... ]</code>.</p>
</div>
<div id="arrange" class="section level3 unnumbered hasAnchor" number="">
<h3><code>arrange()</code><a href="dplyr.html#arrange" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Arrange means putting things in order. That is, <code>arrange()</code> orders the rows of a data frame by the values of selected columns.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="dplyr.html#cb207-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">arrange</span>(age)</span>
<span id="cb207-2"><a href="dplyr.html#cb207-2" aria-hidden="true"></a>     who    sex age</span>
<span id="cb207-3"><a href="dplyr.html#cb207-3" aria-hidden="true"></a><span class="dv">1</span>   Xing Female  <span class="dv">32</span></span>
<span id="cb207-4"><a href="dplyr.html#cb207-4" aria-hidden="true"></a><span class="dv">2</span>    Ben   Male  <span class="dv">33</span></span>
<span id="cb207-5"><a href="dplyr.html#cb207-5" aria-hidden="true"></a><span class="dv">3</span> Coloma Female  <span class="dv">34</span></span>
<span id="cb207-6"><a href="dplyr.html#cb207-6" aria-hidden="true"></a><span class="dv">4</span>    Joe   Male  <span class="dv">35</span></span></code></pre></div>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="dplyr.html#cb208-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">arrange</span>(sex)</span>
<span id="cb208-2"><a href="dplyr.html#cb208-2" aria-hidden="true"></a>     who    sex age</span>
<span id="cb208-3"><a href="dplyr.html#cb208-3" aria-hidden="true"></a><span class="dv">1</span>   Xing Female  <span class="dv">32</span></span>
<span id="cb208-4"><a href="dplyr.html#cb208-4" aria-hidden="true"></a><span class="dv">2</span> Coloma Female  <span class="dv">34</span></span>
<span id="cb208-5"><a href="dplyr.html#cb208-5" aria-hidden="true"></a><span class="dv">3</span>    Joe   Male  <span class="dv">35</span></span>
<span id="cb208-6"><a href="dplyr.html#cb208-6" aria-hidden="true"></a><span class="dv">4</span>    Ben   Male  <span class="dv">33</span></span></code></pre></div>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="dplyr.html#cb209-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">arrange</span>(who)</span>
<span id="cb209-2"><a href="dplyr.html#cb209-2" aria-hidden="true"></a>     who    sex age</span>
<span id="cb209-3"><a href="dplyr.html#cb209-3" aria-hidden="true"></a><span class="dv">1</span>    Ben   Male  <span class="dv">33</span></span>
<span id="cb209-4"><a href="dplyr.html#cb209-4" aria-hidden="true"></a><span class="dv">2</span> Coloma Female  <span class="dv">34</span></span>
<span id="cb209-5"><a href="dplyr.html#cb209-5" aria-hidden="true"></a><span class="dv">3</span>    Joe   Male  <span class="dv">35</span></span>
<span id="cb209-6"><a href="dplyr.html#cb209-6" aria-hidden="true"></a><span class="dv">4</span>   Xing Female  <span class="dv">32</span></span></code></pre></div>
<p>To reverse the order, use <code>desc()</code>:</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="dplyr.html#cb210-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">arrange</span>(<span class="kw">desc</span>(age))</span>
<span id="cb210-2"><a href="dplyr.html#cb210-2" aria-hidden="true"></a>     who    sex age</span>
<span id="cb210-3"><a href="dplyr.html#cb210-3" aria-hidden="true"></a><span class="dv">1</span>    Joe   Male  <span class="dv">35</span></span>
<span id="cb210-4"><a href="dplyr.html#cb210-4" aria-hidden="true"></a><span class="dv">2</span> Coloma Female  <span class="dv">34</span></span>
<span id="cb210-5"><a href="dplyr.html#cb210-5" aria-hidden="true"></a><span class="dv">3</span>    Ben   Male  <span class="dv">33</span></span>
<span id="cb210-6"><a href="dplyr.html#cb210-6" aria-hidden="true"></a><span class="dv">4</span>   Xing Female  <span class="dv">32</span></span></code></pre></div>
<p>You can also arrange by multiple levels:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="dplyr.html#cb211-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">arrange</span>(sex, age)</span>
<span id="cb211-2"><a href="dplyr.html#cb211-2" aria-hidden="true"></a>     who    sex age</span>
<span id="cb211-3"><a href="dplyr.html#cb211-3" aria-hidden="true"></a><span class="dv">1</span>   Xing Female  <span class="dv">32</span></span>
<span id="cb211-4"><a href="dplyr.html#cb211-4" aria-hidden="true"></a><span class="dv">2</span> Coloma Female  <span class="dv">34</span></span>
<span id="cb211-5"><a href="dplyr.html#cb211-5" aria-hidden="true"></a><span class="dv">3</span>    Ben   Male  <span class="dv">33</span></span>
<span id="cb211-6"><a href="dplyr.html#cb211-6" aria-hidden="true"></a><span class="dv">4</span>    Joe   Male  <span class="dv">35</span></span></code></pre></div>
</div>
<div id="select" class="section level3 unnumbered hasAnchor" number="">
<h3><code>select()</code><a href="dplyr.html#select" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Select only certain variables in a data frame, making the dataframe skinnier (fewer columns).</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="dplyr.html#cb212-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(age)</span>
<span id="cb212-2"><a href="dplyr.html#cb212-2" aria-hidden="true"></a>  age</span>
<span id="cb212-3"><a href="dplyr.html#cb212-3" aria-hidden="true"></a><span class="dv">1</span>  <span class="dv">35</span></span>
<span id="cb212-4"><a href="dplyr.html#cb212-4" aria-hidden="true"></a><span class="dv">2</span>  <span class="dv">33</span></span>
<span id="cb212-5"><a href="dplyr.html#cb212-5" aria-hidden="true"></a><span class="dv">3</span>  <span class="dv">32</span></span>
<span id="cb212-6"><a href="dplyr.html#cb212-6" aria-hidden="true"></a><span class="dv">4</span>  <span class="dv">34</span></span></code></pre></div>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="dplyr.html#cb213-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(sex, age)</span>
<span id="cb213-2"><a href="dplyr.html#cb213-2" aria-hidden="true"></a>     sex age</span>
<span id="cb213-3"><a href="dplyr.html#cb213-3" aria-hidden="true"></a><span class="dv">1</span>   Male  <span class="dv">35</span></span>
<span id="cb213-4"><a href="dplyr.html#cb213-4" aria-hidden="true"></a><span class="dv">2</span>   Male  <span class="dv">33</span></span>
<span id="cb213-5"><a href="dplyr.html#cb213-5" aria-hidden="true"></a><span class="dv">3</span> Female  <span class="dv">32</span></span>
<span id="cb213-6"><a href="dplyr.html#cb213-6" aria-hidden="true"></a><span class="dv">4</span> Female  <span class="dv">34</span></span></code></pre></div>
<p>As you select columns, you can rename them like so:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="dplyr.html#cb214-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(sex, <span class="dt">years =</span> age)</span>
<span id="cb214-2"><a href="dplyr.html#cb214-2" aria-hidden="true"></a>     sex years</span>
<span id="cb214-3"><a href="dplyr.html#cb214-3" aria-hidden="true"></a><span class="dv">1</span>   Male    <span class="dv">35</span></span>
<span id="cb214-4"><a href="dplyr.html#cb214-4" aria-hidden="true"></a><span class="dv">2</span>   Male    <span class="dv">33</span></span>
<span id="cb214-5"><a href="dplyr.html#cb214-5" aria-hidden="true"></a><span class="dv">3</span> Female    <span class="dv">32</span></span>
<span id="cb214-6"><a href="dplyr.html#cb214-6" aria-hidden="true"></a><span class="dv">4</span> Female    <span class="dv">34</span></span></code></pre></div>
<p>You can also select a set of columns using the <code>:</code> notation:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="dplyr.html#cb215-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(who<span class="op">:</span>sex)</span>
<span id="cb215-2"><a href="dplyr.html#cb215-2" aria-hidden="true"></a>     who    sex</span>
<span id="cb215-3"><a href="dplyr.html#cb215-3" aria-hidden="true"></a><span class="dv">1</span>    Joe   Male</span>
<span id="cb215-4"><a href="dplyr.html#cb215-4" aria-hidden="true"></a><span class="dv">2</span>    Ben   Male</span>
<span id="cb215-5"><a href="dplyr.html#cb215-5" aria-hidden="true"></a><span class="dv">3</span>   Xing Female</span>
<span id="cb215-6"><a href="dplyr.html#cb215-6" aria-hidden="true"></a><span class="dv">4</span> Coloma Female</span></code></pre></div>
</div>
<div id="rename" class="section level3 unnumbered hasAnchor" number="">
<h3><code>rename()</code><a href="dplyr.html#rename" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The function <code>rename()</code> changes the names of individual variables.</p>
<p>This verb takes the syntax <code>&lt;new_name&gt; = &lt;old_name&gt;</code> syntax.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="dplyr.html#cb216-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">rename</span>(<span class="dt">gender =</span> sex, <span class="dt">years =</span> age, <span class="dt">first_name =</span> who)</span>
<span id="cb216-2"><a href="dplyr.html#cb216-2" aria-hidden="true"></a>  first_name gender years</span>
<span id="cb216-3"><a href="dplyr.html#cb216-3" aria-hidden="true"></a><span class="dv">1</span>        Joe   Male    <span class="dv">35</span></span>
<span id="cb216-4"><a href="dplyr.html#cb216-4" aria-hidden="true"></a><span class="dv">2</span>        Ben   Male    <span class="dv">33</span></span>
<span id="cb216-5"><a href="dplyr.html#cb216-5" aria-hidden="true"></a><span class="dv">3</span>       Xing Female    <span class="dv">32</span></span>
<span id="cb216-6"><a href="dplyr.html#cb216-6" aria-hidden="true"></a><span class="dv">4</span>     Coloma Female    <span class="dv">34</span></span></code></pre></div>
</div>
<div id="mutate" class="section level3 unnumbered hasAnchor" number="">
<h3><code>mutate()</code><a href="dplyr.html#mutate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The function <code>mutate()</code> adds new variables and preserves existing ones.</p>
<p>New variables overwrite existing variables of the same name.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="dplyr.html#cb217-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">agein2020 =</span> age <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb217-2"><a href="dplyr.html#cb217-2" aria-hidden="true"></a>     who    sex age agein2020</span>
<span id="cb217-3"><a href="dplyr.html#cb217-3" aria-hidden="true"></a><span class="dv">1</span>    Joe   Male  <span class="dv">35</span>        <span class="dv">34</span></span>
<span id="cb217-4"><a href="dplyr.html#cb217-4" aria-hidden="true"></a><span class="dv">2</span>    Ben   Male  <span class="dv">33</span>        <span class="dv">32</span></span>
<span id="cb217-5"><a href="dplyr.html#cb217-5" aria-hidden="true"></a><span class="dv">3</span>   Xing Female  <span class="dv">32</span>        <span class="dv">31</span></span>
<span id="cb217-6"><a href="dplyr.html#cb217-6" aria-hidden="true"></a><span class="dv">4</span> Coloma Female  <span class="dv">34</span>        <span class="dv">33</span></span></code></pre></div>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="dplyr.html#cb218-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">is_male =</span> sex <span class="op">==</span><span class="st"> &#39;Male&#39;</span>)</span>
<span id="cb218-2"><a href="dplyr.html#cb218-2" aria-hidden="true"></a>     who    sex age is_male</span>
<span id="cb218-3"><a href="dplyr.html#cb218-3" aria-hidden="true"></a><span class="dv">1</span>    Joe   Male  <span class="dv">35</span>    <span class="ot">TRUE</span></span>
<span id="cb218-4"><a href="dplyr.html#cb218-4" aria-hidden="true"></a><span class="dv">2</span>    Ben   Male  <span class="dv">33</span>    <span class="ot">TRUE</span></span>
<span id="cb218-5"><a href="dplyr.html#cb218-5" aria-hidden="true"></a><span class="dv">3</span>   Xing Female  <span class="dv">32</span>   <span class="ot">FALSE</span></span>
<span id="cb218-6"><a href="dplyr.html#cb218-6" aria-hidden="true"></a><span class="dv">4</span> Coloma Female  <span class="dv">34</span>   <span class="ot">FALSE</span></span></code></pre></div>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="dplyr.html#cb219-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">average_age =</span> <span class="kw">mean</span>(age))</span>
<span id="cb219-2"><a href="dplyr.html#cb219-2" aria-hidden="true"></a>     who    sex age average_age</span>
<span id="cb219-3"><a href="dplyr.html#cb219-3" aria-hidden="true"></a><span class="dv">1</span>    Joe   Male  <span class="dv">35</span>        <span class="fl">33.5</span></span>
<span id="cb219-4"><a href="dplyr.html#cb219-4" aria-hidden="true"></a><span class="dv">2</span>    Ben   Male  <span class="dv">33</span>        <span class="fl">33.5</span></span>
<span id="cb219-5"><a href="dplyr.html#cb219-5" aria-hidden="true"></a><span class="dv">3</span>   Xing Female  <span class="dv">32</span>        <span class="fl">33.5</span></span>
<span id="cb219-6"><a href="dplyr.html#cb219-6" aria-hidden="true"></a><span class="dv">4</span> Coloma Female  <span class="dv">34</span>        <span class="fl">33.5</span></span></code></pre></div>
<p>You can call <code>mutate()</code> multiple times in the same pipe:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="dplyr.html#cb220-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">average_age =</span> <span class="kw">mean</span>(age)) <span class="op">%&gt;%</span></span>
<span id="cb220-2"><a href="dplyr.html#cb220-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">diff_from_avg =</span> age <span class="op">-</span><span class="st"> </span>average_age)</span>
<span id="cb220-3"><a href="dplyr.html#cb220-3" aria-hidden="true"></a>     who    sex age average_age diff_from_avg</span>
<span id="cb220-4"><a href="dplyr.html#cb220-4" aria-hidden="true"></a><span class="dv">1</span>    Joe   Male  <span class="dv">35</span>        <span class="fl">33.5</span>           <span class="fl">1.5</span></span>
<span id="cb220-5"><a href="dplyr.html#cb220-5" aria-hidden="true"></a><span class="dv">2</span>    Ben   Male  <span class="dv">33</span>        <span class="fl">33.5</span>          <span class="fl">-0.5</span></span>
<span id="cb220-6"><a href="dplyr.html#cb220-6" aria-hidden="true"></a><span class="dv">3</span>   Xing Female  <span class="dv">32</span>        <span class="fl">33.5</span>          <span class="fl">-1.5</span></span>
<span id="cb220-7"><a href="dplyr.html#cb220-7" aria-hidden="true"></a><span class="dv">4</span> Coloma Female  <span class="dv">34</span>        <span class="fl">33.5</span>           <span class="fl">0.5</span></span></code></pre></div>
<p>You can also remove variables can be removed by setting their value to NULL.</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="dplyr.html#cb221-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">age =</span> <span class="ot">NULL</span>)</span>
<span id="cb221-2"><a href="dplyr.html#cb221-2" aria-hidden="true"></a>     who    sex</span>
<span id="cb221-3"><a href="dplyr.html#cb221-3" aria-hidden="true"></a><span class="dv">1</span>    Joe   Male</span>
<span id="cb221-4"><a href="dplyr.html#cb221-4" aria-hidden="true"></a><span class="dv">2</span>    Ben   Male</span>
<span id="cb221-5"><a href="dplyr.html#cb221-5" aria-hidden="true"></a><span class="dv">3</span>   Xing Female</span>
<span id="cb221-6"><a href="dplyr.html#cb221-6" aria-hidden="true"></a><span class="dv">4</span> Coloma Female</span></code></pre></div>
<p>A similar function, <code>transmute()</code>, adds new variables and drops existing ones, kind of like a combination of <code>select()</code> and <code>mutate()</code>.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="dplyr.html#cb222-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">transmute</span>(<span class="dt">average_age =</span> <span class="kw">mean</span>(age))</span>
<span id="cb222-2"><a href="dplyr.html#cb222-2" aria-hidden="true"></a>  average_age</span>
<span id="cb222-3"><a href="dplyr.html#cb222-3" aria-hidden="true"></a><span class="dv">1</span>        <span class="fl">33.5</span></span>
<span id="cb222-4"><a href="dplyr.html#cb222-4" aria-hidden="true"></a><span class="dv">2</span>        <span class="fl">33.5</span></span>
<span id="cb222-5"><a href="dplyr.html#cb222-5" aria-hidden="true"></a><span class="dv">3</span>        <span class="fl">33.5</span></span>
<span id="cb222-6"><a href="dplyr.html#cb222-6" aria-hidden="true"></a><span class="dv">4</span>        <span class="fl">33.5</span></span></code></pre></div>
</div>
<div id="group_by" class="section level3 unnumbered hasAnchor" number="">
<h3><code>group_by()</code><a href="dplyr.html#group_by" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Most data operations are done on groups defined by variables. The function <code>group_by()</code> takes an existing table and converts it into a grouped one where operations are performed “by group”.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="dplyr.html#cb223-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb223-2"><a href="dplyr.html#cb223-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(sex) <span class="op">%&gt;%</span></span>
<span id="cb223-3"><a href="dplyr.html#cb223-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">average_age_for_sex =</span> <span class="kw">mean</span>(age)) </span>
<span id="cb223-4"><a href="dplyr.html#cb223-4" aria-hidden="true"></a><span class="co"># A tibble: 4 × 4</span></span>
<span id="cb223-5"><a href="dplyr.html#cb223-5" aria-hidden="true"></a><span class="co"># Groups:   sex [2]</span></span>
<span id="cb223-6"><a href="dplyr.html#cb223-6" aria-hidden="true"></a>  who    sex      age average_age_for_sex</span>
<span id="cb223-7"><a href="dplyr.html#cb223-7" aria-hidden="true"></a>  <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st">               </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span></span>
<span id="cb223-8"><a href="dplyr.html#cb223-8" aria-hidden="true"></a><span class="dv">1</span> Joe    Male      <span class="dv">35</span>                  <span class="dv">34</span></span>
<span id="cb223-9"><a href="dplyr.html#cb223-9" aria-hidden="true"></a><span class="dv">2</span> Ben    Male      <span class="dv">33</span>                  <span class="dv">34</span></span>
<span id="cb223-10"><a href="dplyr.html#cb223-10" aria-hidden="true"></a><span class="dv">3</span> Xing   Female    <span class="dv">32</span>                  <span class="dv">33</span></span>
<span id="cb223-11"><a href="dplyr.html#cb223-11" aria-hidden="true"></a><span class="dv">4</span> Coloma Female    <span class="dv">34</span>                  <span class="dv">33</span></span></code></pre></div>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="dplyr.html#cb224-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb224-2"><a href="dplyr.html#cb224-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(sex) <span class="op">%&gt;%</span></span>
<span id="cb224-3"><a href="dplyr.html#cb224-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">average_age_for_sex =</span> <span class="kw">mean</span>(age)) <span class="op">%&gt;%</span></span>
<span id="cb224-4"><a href="dplyr.html#cb224-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">diff_from_avg_for_sex =</span> age <span class="op">-</span><span class="st"> </span>average_age_for_sex)</span>
<span id="cb224-5"><a href="dplyr.html#cb224-5" aria-hidden="true"></a><span class="co"># A tibble: 4 × 5</span></span>
<span id="cb224-6"><a href="dplyr.html#cb224-6" aria-hidden="true"></a><span class="co"># Groups:   sex [2]</span></span>
<span id="cb224-7"><a href="dplyr.html#cb224-7" aria-hidden="true"></a>  who    sex      age average_age_for_sex diff_from_avg_for_sex</span>
<span id="cb224-8"><a href="dplyr.html#cb224-8" aria-hidden="true"></a>  <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st">               </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st">                 </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span></span>
<span id="cb224-9"><a href="dplyr.html#cb224-9" aria-hidden="true"></a><span class="dv">1</span> Joe    Male      <span class="dv">35</span>                  <span class="dv">34</span>                     <span class="dv">1</span></span>
<span id="cb224-10"><a href="dplyr.html#cb224-10" aria-hidden="true"></a><span class="dv">2</span> Ben    Male      <span class="dv">33</span>                  <span class="dv">34</span>                    <span class="dv">-1</span></span>
<span id="cb224-11"><a href="dplyr.html#cb224-11" aria-hidden="true"></a><span class="dv">3</span> Xing   Female    <span class="dv">32</span>                  <span class="dv">33</span>                    <span class="dv">-1</span></span>
<span id="cb224-12"><a href="dplyr.html#cb224-12" aria-hidden="true"></a><span class="dv">4</span> Coloma Female    <span class="dv">34</span>                  <span class="dv">33</span>                     <span class="dv">1</span></span></code></pre></div>
<p>Note that a similar verb, <code>ungroup()</code>, removes grouping.</p>
</div>
<div id="summarize" class="section level3 unnumbered hasAnchor" number="">
<h3><code>summarize()</code><a href="dplyr.html#summarize" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>summarize()</code> or <code>summarize()</code> creates an entirely new data frame. It will have one (or more) rows for each combination of grouping variables; if there are no grouping variables, the output will have a single row summarizing all observations in the input. It will contain one column for each grouping variable and one column for each of the summary statistics that you have specified.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="dplyr.html#cb225-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb225-2"><a href="dplyr.html#cb225-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">average_age =</span> <span class="kw">mean</span>(age))</span>
<span id="cb225-3"><a href="dplyr.html#cb225-3" aria-hidden="true"></a>  average_age</span>
<span id="cb225-4"><a href="dplyr.html#cb225-4" aria-hidden="true"></a><span class="dv">1</span>        <span class="fl">33.5</span></span></code></pre></div>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="dplyr.html#cb226-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb226-2"><a href="dplyr.html#cb226-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">average_age =</span> <span class="kw">mean</span>(age),</span>
<span id="cb226-3"><a href="dplyr.html#cb226-3" aria-hidden="true"></a>            <span class="dt">standard_dev_of_age =</span> <span class="kw">sd</span>(age),</span>
<span id="cb226-4"><a href="dplyr.html#cb226-4" aria-hidden="true"></a>            <span class="dt">oldest_age =</span> <span class="kw">max</span>(age),</span>
<span id="cb226-5"><a href="dplyr.html#cb226-5" aria-hidden="true"></a>            <span class="dt">youngest_age =</span> <span class="kw">min</span>(age))</span>
<span id="cb226-6"><a href="dplyr.html#cb226-6" aria-hidden="true"></a>  average_age standard_dev_of_age oldest_age youngest_age</span>
<span id="cb226-7"><a href="dplyr.html#cb226-7" aria-hidden="true"></a><span class="dv">1</span>        <span class="fl">33.5</span>            <span class="fl">1.290994</span>         <span class="dv">35</span>           <span class="dv">32</span></span></code></pre></div>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="dplyr.html#cb227-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb227-2"><a href="dplyr.html#cb227-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(sex) <span class="op">%&gt;%</span></span>
<span id="cb227-3"><a href="dplyr.html#cb227-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">avg_age =</span> <span class="kw">mean</span>(age),</span>
<span id="cb227-4"><a href="dplyr.html#cb227-4" aria-hidden="true"></a>            <span class="dt">oldest_age =</span> <span class="kw">max</span>(age),</span>
<span id="cb227-5"><a href="dplyr.html#cb227-5" aria-hidden="true"></a>            <span class="dt">total_years =</span> <span class="kw">sum</span>(age)) </span>
<span id="cb227-6"><a href="dplyr.html#cb227-6" aria-hidden="true"></a><span class="co"># A tibble: 2 × 4</span></span>
<span id="cb227-7"><a href="dplyr.html#cb227-7" aria-hidden="true"></a>  sex    avg_age oldest_age total_years</span>
<span id="cb227-8"><a href="dplyr.html#cb227-8" aria-hidden="true"></a>  <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">    </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st">      </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st">       </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span></span>
<span id="cb227-9"><a href="dplyr.html#cb227-9" aria-hidden="true"></a><span class="dv">1</span> Female      <span class="dv">33</span>         <span class="dv">34</span>          <span class="dv">66</span></span>
<span id="cb227-10"><a href="dplyr.html#cb227-10" aria-hidden="true"></a><span class="dv">2</span> Male        <span class="dv">34</span>         <span class="dv">35</span>          <span class="dv">68</span></span></code></pre></div>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="dplyr.html#cb228-1" aria-hidden="true"></a>people <span class="op">%&gt;%</span></span>
<span id="cb228-2"><a href="dplyr.html#cb228-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(sex) <span class="op">%&gt;%</span></span>
<span id="cb228-3"><a href="dplyr.html#cb228-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">sample_size =</span> <span class="kw">n</span>())</span>
<span id="cb228-4"><a href="dplyr.html#cb228-4" aria-hidden="true"></a><span class="co"># A tibble: 2 × 2</span></span>
<span id="cb228-5"><a href="dplyr.html#cb228-5" aria-hidden="true"></a>  sex    sample_size</span>
<span id="cb228-6"><a href="dplyr.html#cb228-6" aria-hidden="true"></a>  <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">        </span><span class="er">&lt;</span>int<span class="op">&gt;</span></span>
<span id="cb228-7"><a href="dplyr.html#cb228-7" aria-hidden="true"></a><span class="dv">1</span> Female           <span class="dv">2</span></span>
<span id="cb228-8"><a href="dplyr.html#cb228-8" aria-hidden="true"></a><span class="dv">2</span> Male             <span class="dv">2</span></span></code></pre></div>
<p>Note the use of the function, <strong><code>n()</code></strong>. This simple function counts up the number of records in each group.</p>
<div id="exercises-7" class="section level4 unnumbered hasAnchor" number="">
<h4>Exercises<a href="dplyr.html#exercises-7" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Answer these questions using the new <code>dplyr</code> verbs you just learned:</p>
<p><strong>Baby names over time</strong></p>
<p><strong>1.</strong> Run the below code to load a dataset about baby names given in the USA since the 1800’s.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="dplyr.html#cb229-1" aria-hidden="true"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb229-2"><a href="dplyr.html#cb229-2" aria-hidden="true"></a><span class="kw">library</span>(babynames)</span>
<span id="cb229-3"><a href="dplyr.html#cb229-3" aria-hidden="true"></a>bn &lt;-<span class="st"> </span>babynames</span></code></pre></div>
<p><strong>2.</strong> Check out the first and last six rows of <code>bn</code>.</p>
<p><strong>3.</strong> What are the names of the variables in this dataset?</p>
<p><strong>4.</strong> How many rows are in this dataset?</p>
<p><strong>5.</strong> What is the earliest year in this dataset?</p>
<p><strong>6.</strong> Create a dataframe named <code>turn_of_century</code>, which contain data only for the year 1900.</p>
<p><strong>7.</strong> Create a dataframe named <code>boys</code>, containing only boys.</p>
<p><strong>8.</strong> Create a dataframe named <code>moms_gen</code>. This should be females born in the year of birth of your mom.</p>
<p><strong>9.</strong> Order <code>moms_gen</code> by <code>n</code>, in ascending order (i.e., with the least popular name at top). Look at the result; what is the least popular name among women the year your mom was born?</p>
<p><strong>10.</strong> Reverse the order and save the result into an object named <code>moms_gen_ordered</code>.</p>
<p><strong>11.</strong> Create an object named <code>boys2k</code>. This should be all males born in the year 2000.</p>
<p><strong>12.</strong> Arrange <code>boys2k</code> from most to least popular. What was the most popular boys name in 2000?</p>
<p><strong>13.</strong> What percentage of boys were named <code>Joseph</code> in 2000?</p>
<p><strong>14.</strong> Were there more Jims or Matthews in 2020?</p>
<p><strong>15.</strong> Create an object named <code>tot_names_by_year</code>, which contains the total counts for boy and girl names assigned in each year of the dataset. You should have four columns: <code>year</code>, <code>boys</code>, <code>girls</code>, and <code>tot</code>.</p>
<p><strong>16.</strong> How many people were born with <em>your</em> name in 2020?</p>
<p><strong>17.</strong> Was your name more prevalent in 2020 than it was in the year you were born?</p>
<p><strong>18.</strong> What if you account for the changing overall population size? In other words, is the <em>proportional prevalence</em> of your name greater in 2020 or your birth year?</p>
<p><strong>19.</strong> In which year was your name the most prevalent?</p>
<p><strong>20.</strong> Create a basic plot of the proportional prevalence of your name since the earliest year of this dataset.</p>
<p><strong>21.</strong> Update this plot with lines for your parent’s names and your siblings names, if you have any.</p>
<p><strong>22.</strong> Format that plot so that it is gorgeous and well-labelled.</p>
<p><strong>23.</strong> Screenshot it and email it to your family.</p>

</div>
</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="ggplot.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="markdown-documentation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/datatrainglobal/rbootcamp/edit/master/04e-dataframes2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["rbootcamp.pdf", "rbootcamp.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
