<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 10 Working with dates and times | R Bootcamp</title>
  <meta name="description" content="A resource &amp; workbook for learning R" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 10 Working with dates and times | R Bootcamp" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A resource &amp; workbook for learning R" />
  <meta name="github-repo" content="datatrainglobal/rbootcamp" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 10 Working with dates and times | R Bootcamp" />
  
  <meta name="twitter:description" content="A resource &amp; workbook for learning R" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="making-choropleths.html"/>
<link rel="next" href="working-with-text.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>

<script>
/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
  // ============================================================

  function transitionEnd() {
    var el = document.createElement('bootstrap')

    var transEndEventNames = {
      WebkitTransition : 'webkitTransitionEnd',
      MozTransition    : 'transitionend',
      OTransition      : 'oTransitionEnd otransitionend',
      transition       : 'transitionend'
    }

    for (var name in transEndEventNames) {
      if (el.style[name] !== undefined) {
        return { end: transEndEventNames[name] }
      }
    }

    return false // explicit for ie8 (  ._.)
  }

  // http://blog.alexmaccaw.com/css-transitions
  $.fn.emulateTransitionEnd = function (duration) {
    var called = false
    var $el = this
    $(this).one('bsTransitionEnd', function () { called = true })
    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }
    setTimeout(callback, duration)
    return this
  }

  $(function () {
    $.support.transition = transitionEnd()

    if (!$.support.transition) return

    $.event.special.bsTransitionEnd = {
      bindType: $.support.transition.end,
      delegateType: $.support.transition.end,
      handle: function (e) {
        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
      }
    }
  })

}(jQuery);
</script>
<script>
/* ========================================================================
 * Bootstrap: collapse.js v3.3.7
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* jshint latedef: false */

+function ($) {
  'use strict';

  // COLLAPSE PUBLIC CLASS DEFINITION
  // ================================

  var Collapse = function (element, options) {
    this.$element      = $(element)
    this.options       = $.extend({}, Collapse.DEFAULTS, options)
    this.$trigger      = $('[data-toggle="collapse"][href="#' + element.id + '"],' +
                           '[data-toggle="collapse"][data-target="#' + element.id + '"]')
    this.transitioning = null

    if (this.options.parent) {
      this.$parent = this.getParent()
    } else {
      this.addAriaAndCollapsedClass(this.$element, this.$trigger)
    }

    if (this.options.toggle) this.toggle()
  }

  Collapse.VERSION  = '3.3.7'

  Collapse.TRANSITION_DURATION = 350

  Collapse.DEFAULTS = {
    toggle: true
  }

  Collapse.prototype.dimension = function () {
    var hasWidth = this.$element.hasClass('width')
    return hasWidth ? 'width' : 'height'
  }

  Collapse.prototype.show = function () {
    if (this.transitioning || this.$element.hasClass('in')) return

    var activesData
    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')

    if (actives && actives.length) {
      activesData = actives.data('bs.collapse')
      if (activesData && activesData.transitioning) return
    }

    var startEvent = $.Event('show.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    if (actives && actives.length) {
      Plugin.call(actives, 'hide')
      activesData || actives.data('bs.collapse', null)
    }

    var dimension = this.dimension()

    this.$element
      .removeClass('collapse')
      .addClass('collapsing')[dimension](0)
      .attr('aria-expanded', true)

    this.$trigger
      .removeClass('collapsed')
      .attr('aria-expanded', true)

    this.transitioning = 1

    var complete = function () {
      this.$element
        .removeClass('collapsing')
        .addClass('collapse in')[dimension]('')
      this.transitioning = 0
      this.$element
        .trigger('shown.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    var scrollSize = $.camelCase(['scroll', dimension].join('-'))

    this.$element
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])
  }

  Collapse.prototype.hide = function () {
    if (this.transitioning || !this.$element.hasClass('in')) return

    var startEvent = $.Event('hide.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    var dimension = this.dimension()

    this.$element[dimension](this.$element[dimension]())[0].offsetHeight

    this.$element
      .addClass('collapsing')
      .removeClass('collapse in')
      .attr('aria-expanded', false)

    this.$trigger
      .addClass('collapsed')
      .attr('aria-expanded', false)

    this.transitioning = 1

    var complete = function () {
      this.transitioning = 0
      this.$element
        .removeClass('collapsing')
        .addClass('collapse')
        .trigger('hidden.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    this.$element
      [dimension](0)
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)
  }

  Collapse.prototype.toggle = function () {
    this[this.$element.hasClass('in') ? 'hide' : 'show']()
  }

  Collapse.prototype.getParent = function () {
    return $(this.options.parent)
      .find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]')
      .each($.proxy(function (i, element) {
        var $element = $(element)
        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)
      }, this))
      .end()
  }

  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {
    var isOpen = $element.hasClass('in')

    $element.attr('aria-expanded', isOpen)
    $trigger
      .toggleClass('collapsed', !isOpen)
      .attr('aria-expanded', isOpen)
  }

  function getTargetFromTrigger($trigger) {
    var href
    var target = $trigger.attr('data-target')
      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '') // strip for ie7

    return $(target)
  }


  // COLLAPSE PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.collapse')
      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false
      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.collapse

  $.fn.collapse             = Plugin
  $.fn.collapse.Constructor = Collapse


  // COLLAPSE NO CONFLICT
  // ====================

  $.fn.collapse.noConflict = function () {
    $.fn.collapse = old
    return this
  }


  // COLLAPSE DATA-API
  // =================

  $(document).on('click.bs.collapse.data-api', '[data-toggle="collapse"]', function (e) {
    var $this   = $(this)

    if (!$this.attr('data-target')) e.preventDefault()

    var $target = getTargetFromTrigger($this)
    var data    = $target.data('bs.collapse')
    var option  = data ? 'toggle' : $this.data()

    Plugin.call($target, option)
  })

}(jQuery);
</script>
<script>
window.initializeCodeFolding = function(show) {

  // handlers for show-all and hide all
  $("#rmd-show-all-code").click(function() {
    $('div.r-code-collapse').each(function() {
      $(this).collapse('show');
    });
  });
  $("#rmd-hide-all-code").click(function() {
    $('div.r-code-collapse').each(function() {
      $(this).collapse('hide');
    });
  });

  // index for unique code element ids
  var currentIndex = 1;

  // select all R code blocks
  var rCodeBlocks = $('pre.sourceCode, pre.r, pre.python, pre.bash, pre.sql, pre.cpp, pre.stan, pre.js');
  rCodeBlocks.each(function() {

    // create a collapsable div to wrap the code in
    var div = $('<div class="collapse r-code-collapse"></div>');
    if (show)
      div.addClass('in');
    var id = 'rcode-643E0F36' + currentIndex++;
    div.attr('id', id);
    $(this).before(div);
    $(this).detach().appendTo(div);

    // add a show code button right above
    var showCodeText = $('<span>' + (show ? 'Hide' : 'Code') + '</span>');
    var showCodeButton = $('<button type="button" class="btn btn-default btn-xs code-folding-btn pull-right"></button>');
    showCodeButton.append(showCodeText);
    showCodeButton
        .attr('data-toggle', 'collapse')
        .attr('data-target', '#' + id)
        .attr('aria-expanded', show)
        .attr('aria-controls', id);

    var buttonRow = $('<div class="row"></div>');
    var buttonCol = $('<div class="col-md-12"></div>');

    buttonCol.append(showCodeButton);
    buttonRow.append(buttonCol);

    div.before(buttonRow);

    // update state of button on show/hide
    div.on('hidden.bs.collapse', function () {
      showCodeText.text('Code');
    });
    div.on('show.bs.collapse', function () {
      showCodeText.text('Hide');
    });
  });

}
</script>
<script>
/* ========================================================================
 * Bootstrap: dropdown.js v3.3.7
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // DROPDOWN CLASS DEFINITION
  // =========================

  var backdrop = '.dropdown-backdrop'
  var toggle   = '[data-toggle="dropdown"]'
  var Dropdown = function (element) {
    $(element).on('click.bs.dropdown', this.toggle)
  }

  Dropdown.VERSION = '3.3.7'

  function getParent($this) {
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = selector && $(selector)

    return $parent && $parent.length ? $parent : $this.parent()
  }

  function clearMenus(e) {
    if (e && e.which === 3) return
    $(backdrop).remove()
    $(toggle).each(function () {
      var $this         = $(this)
      var $parent       = getParent($this)
      var relatedTarget = { relatedTarget: this }

      if (!$parent.hasClass('open')) return

      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return

      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this.attr('aria-expanded', 'false')
      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))
    })
  }

  Dropdown.prototype.toggle = function (e) {
    var $this = $(this)

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    clearMenus()

    if (!isActive) {
      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {
        // if mobile we use a backdrop because click events don't delegate
        $(document.createElement('div'))
          .addClass('dropdown-backdrop')
          .insertAfter($(this))
          .on('click', clearMenus)
      }

      var relatedTarget = { relatedTarget: this }
      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this
        .trigger('focus')
        .attr('aria-expanded', 'true')

      $parent
        .toggleClass('open')
        .trigger($.Event('shown.bs.dropdown', relatedTarget))
    }

    return false
  }

  Dropdown.prototype.keydown = function (e) {
    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return

    var $this = $(this)

    e.preventDefault()
    e.stopPropagation()

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    if (!isActive && e.which != 27 || isActive && e.which == 27) {
      if (e.which == 27) $parent.find(toggle).trigger('focus')
      return $this.trigger('click')
    }

    var desc = ' li:not(.disabled):visible a'
    var $items = $parent.find('.dropdown-menu' + desc)

    if (!$items.length) return

    var index = $items.index(e.target)

    if (e.which == 38 && index > 0)                 index--         // up
    if (e.which == 40 && index < $items.length - 1) index++         // down
    if (!~index)                                    index = 0

    $items.eq(index).trigger('focus')
  }


  // DROPDOWN PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.dropdown')

      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.dropdown

  $.fn.dropdown             = Plugin
  $.fn.dropdown.Constructor = Dropdown


  // DROPDOWN NO CONFLICT
  // ====================

  $.fn.dropdown.noConflict = function () {
    $.fn.dropdown = old
    return this
  }


  // APPLY TO STANDARD DROPDOWN ELEMENTS
  // ===================================

  $(document)
    .on('click.bs.dropdown.data-api', clearMenus)
    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })
    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)
    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)
    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)

}(jQuery);
</script>
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
.row { display: flex; }
.collapse { display: none; }
.in { display:block }
.pull-right > .dropdown-menu {
    right: 0;
    left: auto;
}
.open > .dropdown-menu {
    display: block;
}
.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    z-index: 1000;
    display: none;
    float: left;
    min-width: 160px;
    padding: 5px 0;
    margin: 2px 0 0;
    font-size: 14px;
    text-align: left;
    list-style: none;
    background-color: #fff;
    -webkit-background-clip: padding-box;
    background-clip: padding-box;
    border: 1px solid #ccc;
    border: 1px solid rgba(0,0,0,.15);
    border-radius: 4px;
    -webkit-box-shadow: 0 6px 12px rgba(0,0,0,.175);
    box-shadow: 0 6px 12px rgba(0,0,0,.175);
}
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>


<script>
document.write('<div class="btn-group pull-right" style="position: absolute; top: 20%; right: 2%; z-index: 200"><button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" data-_extension-text-contrast=""><span>Code</span> <span class="caret"></span></button><ul class="dropdown-menu" style="min-width: 50px;"><li><a id="rmd-show-all-code" href="#">Show All Code</a></li><li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li></ul></div>')
</script>



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">www.datatrain.cc</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-is-this-website"><i class="fa fa-check"></i>What is this website?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-are-we"><i class="fa fa-check"></i>Who are we?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="setting-up-your-computer.html"><a href="setting-up-your-computer.html"><i class="fa fa-check"></i><b>2</b> Setting up your computer</a>
<ul>
<li class="chapter" data-level="" data-path="setting-up-your-computer.html"><a href="setting-up-your-computer.html#install-r"><i class="fa fa-check"></i>Install R</a></li>
<li class="chapter" data-level="" data-path="setting-up-your-computer.html"><a href="setting-up-your-computer.html#install-rstudio"><i class="fa fa-check"></i>Install RStudio</a></li>
<li class="chapter" data-level="" data-path="setting-up-your-computer.html"><a href="setting-up-your-computer.html#install-packages"><i class="fa fa-check"></i>Install packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="first-code.html"><a href="first-code.html"><i class="fa fa-check"></i><b>3</b> First code</a>
<ul>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#file-paths"><i class="fa fa-check"></i>File paths</a></li>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#scripts-and-your-workspace"><i class="fa fa-check"></i>Scripts and your workspace</a></li>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#r-as-a-calculator"><i class="fa fa-check"></i>R as a calculator</a></li>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#re-running-code"><i class="fa fa-check"></i>Re-running code</a></li>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#incomplete-commands"><i class="fa fa-check"></i>Incomplete commands</a></li>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#getting-errors"><i class="fa fa-check"></i>Getting errors</a></li>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#using-parentheses"><i class="fa fa-check"></i>Using parentheses</a></li>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#use-built-in-r-functions"><i class="fa fa-check"></i>Use built-in R functions</a></li>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#objects-and-vectors"><i class="fa fa-check"></i>Objects and vectors</a></li>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#r-and-rstudio-whats-the-difference"><i class="fa fa-check"></i><code>R</code> and <code>RStudio</code>: what’s the difference?</a></li>
<li class="chapter" data-level="" data-path="first-code.html"><a href="first-code.html#two-minute-tour-of-rstudio"><i class="fa fa-check"></i>Two-minute tour of <code>RStudio</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="in-class-survey.html"><a href="in-class-survey.html"><i class="fa fa-check"></i><b>4</b> In-class survey</a>
<ul>
<li class="chapter" data-level="" data-path="in-class-survey.html"><a href="in-class-survey.html#exploring-data"><i class="fa fa-check"></i>Exploring data</a></li>
<li class="chapter" data-level="" data-path="in-class-survey.html"><a href="in-class-survey.html#r-as-a-calculator-1"><i class="fa fa-check"></i>R as a calculator</a></li>
<li class="chapter" data-level="" data-path="in-class-survey.html"><a href="in-class-survey.html#dplyr"><i class="fa fa-check"></i><code>dplyr</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="exploring-a-dataset.html"><a href="exploring-a-dataset.html"><i class="fa fa-check"></i><b>5</b> Exploring a dataset</a>
<ul>
<li class="chapter" data-level="" data-path="exploring-a-dataset.html"><a href="exploring-a-dataset.html#dplyr-1"><i class="fa fa-check"></i><code>dplyr</code></a></li>
<li class="chapter" data-level="" data-path="exploring-a-dataset.html"><a href="exploring-a-dataset.html#ggplot2"><i class="fa fa-check"></i><code>ggplot2</code></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="visualizing-data-with-ggplot2.html"><a href="visualizing-data-with-ggplot2.html"><i class="fa fa-check"></i><b>6</b> Visualizing data with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="" data-path="visualizing-data-with-ggplot2.html"><a href="visualizing-data-with-ggplot2.html#introduction-to-ggplot2"><i class="fa fa-check"></i>Introduction to ggplot2</a></li>
<li class="chapter" data-level="" data-path="visualizing-data-with-ggplot2.html"><a href="visualizing-data-with-ggplot2.html#demography-exercises"><i class="fa fa-check"></i>Demography exercises</a></li>
<li class="chapter" data-level="" data-path="visualizing-data-with-ggplot2.html"><a href="visualizing-data-with-ggplot2.html#gapminder-exercises"><i class="fa fa-check"></i>Gapminder exercises</a></li>
<li class="chapter" data-level="" data-path="visualizing-data-with-ggplot2.html"><a href="visualizing-data-with-ggplot2.html#exercises-with-world-health-data"><i class="fa fa-check"></i>Exercises with world health data</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="exploring-sanitation.html"><a href="exploring-sanitation.html"><i class="fa fa-check"></i><b>7</b> Exploring sanitation</a></li>
<li class="chapter" data-level="8" data-path="making-maps.html"><a href="making-maps.html"><i class="fa fa-check"></i><b>8</b> Making maps</a>
<ul>
<li class="chapter" data-level="" data-path="making-maps.html"><a href="making-maps.html#exploring-features-with-osmdata"><i class="fa fa-check"></i>Exploring features with <code>osmdata</code></a></li>
<li class="chapter" data-level="" data-path="making-maps.html"><a href="making-maps.html#exploring-census-tracts-with-tidycensus"><i class="fa fa-check"></i>Exploring census tracts with <code>tidycensus</code></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="making-choropleths.html"><a href="making-choropleths.html"><i class="fa fa-check"></i><b>9</b> Making choropleths</a></li>
<li class="chapter" data-level="10" data-path="working-with-dates-and-times.html"><a href="working-with-dates-and-times.html"><i class="fa fa-check"></i><b>10</b> Working with dates and times</a>
<ul>
<li class="chapter" data-level="" data-path="working-with-dates-and-times.html"><a href="working-with-dates-and-times.html#getting-to-work"><i class="fa fa-check"></i>Getting to work</a></li>
<li class="chapter" data-level="" data-path="working-with-dates-and-times.html"><a href="working-with-dates-and-times.html#getting-familar-with-dates"><i class="fa fa-check"></i>Getting familar with <code>dates</code></a></li>
<li class="chapter" data-level="" data-path="working-with-dates-and-times.html"><a href="working-with-dates-and-times.html#the-datetime-class"><i class="fa fa-check"></i>The <code>datetime</code> class</a></li>
<li class="chapter" data-level="" data-path="working-with-dates-and-times.html"><a href="working-with-dates-and-times.html#common-tasks"><i class="fa fa-check"></i>Common tasks</a></li>
<li class="chapter" data-level="" data-path="working-with-dates-and-times.html"><a href="working-with-dates-and-times.html#dates-times-and-malaria"><i class="fa fa-check"></i>Dates, Times, and Malaria</a></li>
<li class="chapter" data-level="" data-path="working-with-dates-and-times.html"><a href="working-with-dates-and-times.html#coughs"><i class="fa fa-check"></i>Coughs</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="working-with-text.html"><a href="working-with-text.html"><i class="fa fa-check"></i><b>11</b> Working with text</a>
<ul>
<li class="chapter" data-level="" data-path="working-with-text.html"><a href="working-with-text.html#most-common-tools"><i class="fa fa-check"></i>Most common tools</a></li>
<li class="chapter" data-level="" data-path="working-with-text.html"><a href="working-with-text.html#exercises-2"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="working-with-text.html"><a href="working-with-text.html#sentiment-analysis-with-harry-potter"><i class="fa fa-check"></i>Sentiment analysis with Harry Potter</a></li>
<li class="chapter" data-level="" data-path="working-with-text.html"><a href="working-with-text.html#shakespeare-text-mining"><i class="fa fa-check"></i>Shakespeare text mining</a></li>
<li class="chapter" data-level="" data-path="working-with-text.html"><a href="working-with-text.html#trump-tweets"><i class="fa fa-check"></i>Trump tweets</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="getting-started-with-rmarkdown.html"><a href="getting-started-with-rmarkdown.html"><i class="fa fa-check"></i><b>12</b> Getting started with RMarkdown</a>
<ul>
<li class="chapter" data-level="" data-path="getting-started-with-rmarkdown.html"><a href="getting-started-with-rmarkdown.html#what-is-rmarkdown"><i class="fa fa-check"></i>What is <code>RMarkdown</code>?</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-rmarkdown.html"><a href="getting-started-with-rmarkdown.html#why"><i class="fa fa-check"></i>Why?</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-rmarkdown.html"><a href="getting-started-with-rmarkdown.html#what-can-you-do-with-rmarkdown"><i class="fa fa-check"></i>What can you do with <code>RMarkdown</code>?</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-rmarkdown.html"><a href="getting-started-with-rmarkdown.html#raw-rmarkdown-example"><i class="fa fa-check"></i>Raw <code>RMarkdown</code> example</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-rmarkdown.html"><a href="getting-started-with-rmarkdown.html#exercises-3"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-rmarkdown.html"><a href="getting-started-with-rmarkdown.html#make-a-markdown-cv"><i class="fa fa-check"></i>Make a Markdown CV</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="leveling-up-with-rmarkdown.html"><a href="leveling-up-with-rmarkdown.html"><i class="fa fa-check"></i><b>13</b> Leveling up with RMarkdown</a>
<ul>
<li class="chapter" data-level="" data-path="leveling-up-with-rmarkdown.html"><a href="leveling-up-with-rmarkdown.html#owid-covid-19-data-part-1"><i class="fa fa-check"></i>OWID COVID-19 data, Part 1</a></li>
<li class="chapter" data-level="" data-path="leveling-up-with-rmarkdown.html"><a href="leveling-up-with-rmarkdown.html#owid-covid-19-data-part-2"><i class="fa fa-check"></i>OWID COVID-19 data, Part 2</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="git-github.html"><a href="git-github.html"><i class="fa fa-check"></i><b>14</b> <code>Git</code> + <code>GitHub</code></a>
<ul>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#why-1"><i class="fa fa-check"></i>Why</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#what-is-there-to-git"><i class="fa fa-check"></i>What is there to <code>Git</code>?</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#github-set-up"><i class="fa fa-check"></i><code>GitHub</code> set up</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#create-a-new-repository"><i class="fa fa-check"></i>Create a new repository</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#clone-a-repository"><i class="fa fa-check"></i>Clone a repository</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#working-in-a-repository"><i class="fa fa-check"></i>Working in a repository</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#exercises-4"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#editing-the-.gitignore-file"><i class="fa fa-check"></i>Editing the .gitignore file</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#further-resources"><i class="fa fa-check"></i>Further resources</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="kemri-datalab-summer-workbook.html"><a href="kemri-datalab-summer-workbook.html"><i class="fa fa-check"></i><b>15</b> KEMRI &amp; DataLab Summer Workbook</a>
<ul>
<li class="chapter" data-level="" data-path="kemri-datalab-summer-workbook.html"><a href="kemri-datalab-summer-workbook.html#day-1"><i class="fa fa-check"></i>Day 1</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/datatrainglobal/rbootcamp" target="blank">Datatrain's R Bootcamp</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Bootcamp</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-with-dates-and-times" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">Module 10</span> Working with dates and times<a href="working-with-dates-and-times.html#working-with-dates-and-times" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><em>“Today is a day. Tomorrow is another day. And right now is a moment in time that has changed to another moment in time, from one second to the next.”</em> - Anonymous</p>
<div id="learning-goals" class="section level3 unnumbered hasAnchor">
<h3>Learning goals<a href="working-with-dates-and-times.html#learning-goals" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Be able to read dates, and convert objects to dates<br />
</li>
<li>Be able to convert dates, extract useful information, and modify them<br />
</li>
<li>Use date times<br />
</li>
<li>Gain familiarity with the lubridate package</li>
</ul>
<p>Hadley Wickham’s <a href="https://r4ds.had.co.nz/dates-and-times.html">tutorial on dates</a> starts with 3 simple questions and some useful observations:</p>
<blockquote>
<ul>
<li>Does every year have 365 days?<br />
</li>
<li>Does every day have 24 hours?<br />
</li>
<li>Does every minute have 60 seconds?</li>
</ul>
<p>I’m sure you know that not every year has 365 days, but do you know the full rule for determining if a year is a leap year? (It has three parts.) You might have remembered that many parts of the world use daylight savings time (DST), so that some days have 23 hours, and others have 25. You might not have known that some minutes have 61 seconds because every now and then leap seconds are added because the Earth’s rotation is gradually slowing down.</p>
<p>Dates and times are hard because they have to reconcile two physical phenomena (the rotation of the Earth and its orbit around the sun) with a whole raft of geopolitical phenomena including months, time zones, and DST. This chapter won’t teach you every last detail about dates and times, but it will give you a solid grounding of practical skills that will help you with common data analysis challenges.</p>
</blockquote>
</div>
<div id="getting-to-work" class="section level2 unnumbered hasAnchor">
<h2>Getting to work<a href="working-with-dates-and-times.html#getting-to-work" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, open an RScript, name it <code>dates and times.R</code> and set your working directory.</p>
<p>Install the lubridate package and load the library.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="working-with-dates-and-times.html#cb58-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;lubridate&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="working-with-dates-and-times.html#cb59-1" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb59-2"><a href="working-with-dates-and-times.html#cb59-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
</div>
<div id="getting-familar-with-dates" class="section level2 unnumbered hasAnchor">
<h2>Getting familar with <code>dates</code><a href="working-with-dates-and-times.html#getting-familar-with-dates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Get today’s date using:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="working-with-dates-and-times.html#cb60-1" tabindex="-1"></a><span class="fu">today</span>()</span></code></pre></div>
<p>Then make today into an object called today.</p>
<p>Even though <code>today</code> looks like a simple character string, it is not. There are all sorts of date-time calculations in the background.</p>
<p>To demonstrate this, let’s bring in a simple string. Make variables called <code>my_bday</code> and <code>my_partners_bday</code> using the following format (but adjust to match your actual birthdays!):</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="working-with-dates-and-times.html#cb61-1" tabindex="-1"></a>my_birthday <span class="ot">&lt;-</span> <span class="st">&#39;2003-06-09&#39;</span></span>
<span id="cb61-2"><a href="working-with-dates-and-times.html#cb61-2" tabindex="-1"></a>my_partners_bday <span class="ot">&lt;-</span> <span class="st">&#39;2004-02-18&#39;</span></span></code></pre></div>
<p>If you run <code>str(my_birthday)</code> and <code>str(today)</code>, do you see any major differences? (talk amongst your group)</p>
<p>Note that class type of the variable impacts what you can do with the text. For instance, the following causes an error…</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="working-with-dates-and-times.html#cb62-1" tabindex="-1"></a>today <span class="sc">-</span> my_birthday</span></code></pre></div>
<p>Try re-running the calculation above after running the following line of code:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="working-with-dates-and-times.html#cb63-1" tabindex="-1"></a>my_birthday <span class="ot">&lt;-</span> <span class="fu">as_date</span>(my_birthday)</span></code></pre></div>
<p>Why did it work?</p>
<p>Now convert <code>my_partners_bday</code> to the right class, then calculate the time between your birthdays.</p>
</div>
<div id="the-datetime-class" class="section level2 unnumbered hasAnchor">
<h2>The <code>datetime</code> class<a href="working-with-dates-and-times.html#the-datetime-class" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When you are working with a <code>datetime</code> object, you can add and subtract time to it.</p>
<p>Let’s make a variable that has the time as of right now and then look at it:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="working-with-dates-and-times.html#cb64-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">now</span>()</span>
<span id="cb64-2"><a href="working-with-dates-and-times.html#cb64-2" tabindex="-1"></a>n</span></code></pre></div>
<p>This is how you can add or subtract seconds to now:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="working-with-dates-and-times.html#cb65-1" tabindex="-1"></a>n <span class="sc">+</span> <span class="fu">seconds</span>(<span class="dv">1</span>)</span></code></pre></div>
<p>Add or subtract hours:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="working-with-dates-and-times.html#cb66-1" tabindex="-1"></a>n <span class="sc">-</span> <span class="fu">hours</span>(<span class="dv">5</span>)</span></code></pre></div>
<p>Want to only see the date of now? Try this:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="working-with-dates-and-times.html#cb67-1" tabindex="-1"></a><span class="fu">as_date</span>(n)</span></code></pre></div>
<p>Look at how time flies when you’re having fun:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="working-with-dates-and-times.html#cb68-1" tabindex="-1"></a>later <span class="ot">&lt;-</span> <span class="fu">now</span>()</span>
<span id="cb68-2"><a href="working-with-dates-and-times.html#cb68-2" tabindex="-1"></a>later</span></code></pre></div>
<p>Calculate how long it took you from when you created <code>now</code> until you created the variable <code>later</code>.</p>
</div>
<div id="common-tasks" class="section level2 unnumbered hasAnchor">
<h2>Common tasks<a href="working-with-dates-and-times.html#common-tasks" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="converting-words-strings-to-dates" class="section level3 unnumbered hasAnchor">
<h3>Converting words (strings) to dates<a href="working-with-dates-and-times.html#converting-words-strings-to-dates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>lubridate</code> package was built to handle dates of various input formats. The following functions convert a character with a particular format into a standard <code>datetime</code> object:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="working-with-dates-and-times.html#cb69-1" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">&quot;2017-01-31&quot;</span>)</span></code></pre></div>
<p>This also works if the single-digit dates are not padded with a 0:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="working-with-dates-and-times.html#cb70-1" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">&quot;2017-1-31&quot;</span>)</span></code></pre></div>
<p>Other formats can also be handled. Try to find a way to make the following into date formats:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="working-with-dates-and-times.html#cb71-1" tabindex="-1"></a><span class="st">&quot;2017-31-01&quot;</span></span>
<span id="cb71-2"><a href="working-with-dates-and-times.html#cb71-2" tabindex="-1"></a></span>
<span id="cb71-3"><a href="working-with-dates-and-times.html#cb71-3" tabindex="-1"></a><span class="st">&quot;January 31st, 2017&quot;</span></span>
<span id="cb71-4"><a href="working-with-dates-and-times.html#cb71-4" tabindex="-1"></a></span>
<span id="cb71-5"><a href="working-with-dates-and-times.html#cb71-5" tabindex="-1"></a><span class="st">&quot;31-Jan-2017&quot;</span></span></code></pre></div>
<p><em>Hint</em>: try re-organising the letters from <code>ymd</code> which stands for “year month day”.</p>
</div>
<div id="extracting-components-from-dates" class="section level3 unnumbered hasAnchor">
<h3>Extracting components from dates<a href="working-with-dates-and-times.html#extracting-components-from-dates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s practice extracting information from the following <code>datetime</code> object:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="working-with-dates-and-times.html#cb72-1" tabindex="-1"></a>datetime <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2016-07-08 12:34:56&quot;</span>)</span>
<span id="cb72-2"><a href="working-with-dates-and-times.html#cb72-2" tabindex="-1"></a><span class="fu">year</span>(datetime)</span></code></pre></div>
<p>Get the month:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="working-with-dates-and-times.html#cb73-1" tabindex="-1"></a><span class="fu">month</span>(datetime)</span></code></pre></div>
<p>Get the day of the month:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="working-with-dates-and-times.html#cb74-1" tabindex="-1"></a><span class="fu">mday</span>(datetime)</span></code></pre></div>
<p>Get the day of the year:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="working-with-dates-and-times.html#cb75-1" tabindex="-1"></a><span class="fu">yday</span>(datetime)</span></code></pre></div>
<p>Get the day of the week:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="working-with-dates-and-times.html#cb76-1" tabindex="-1"></a><span class="fu">wday</span>(datetime)</span></code></pre></div>
<p>Get the name of the day of the week:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="working-with-dates-and-times.html#cb77-1" tabindex="-1"></a><span class="fu">weekdays</span>(datetime)</span></code></pre></div>
<p>Get the hour of the day:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="working-with-dates-and-times.html#cb78-1" tabindex="-1"></a><span class="fu">hour</span>(datetime)</span></code></pre></div>
<p>Get the minute of the hour:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="working-with-dates-and-times.html#cb79-1" tabindex="-1"></a><span class="fu">minute</span>(datetime)</span></code></pre></div>
<p>Get the seconds of the minute:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="working-with-dates-and-times.html#cb80-1" tabindex="-1"></a><span class="fu">second</span>(datetime)</span></code></pre></div>
</div>
<div id="dealing-with-time-zones" class="section level3 unnumbered hasAnchor">
<h3>Dealing with time zones<a href="working-with-dates-and-times.html#dealing-with-time-zones" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When working with dates and times in <code>R</code>, time zones can be a major pain, but the <code>lubridate</code> package tries to simplify this.</p>
<p>Adjust timezones for dates:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="working-with-dates-and-times.html#cb81-1" tabindex="-1"></a><span class="co"># Today&#39;s date where I am</span></span>
<span id="cb81-2"><a href="working-with-dates-and-times.html#cb81-2" tabindex="-1"></a><span class="fu">today</span>()</span>
<span id="cb81-3"><a href="working-with-dates-and-times.html#cb81-3" tabindex="-1"></a></span>
<span id="cb81-4"><a href="working-with-dates-and-times.html#cb81-4" tabindex="-1"></a><span class="co"># Today&#39;s date in New Zealand</span></span>
<span id="cb81-5"><a href="working-with-dates-and-times.html#cb81-5" tabindex="-1"></a><span class="fu">today</span>( <span class="at">tzone =</span> <span class="st">&#39;NZ&#39;</span> )</span></code></pre></div>
<p>Adjust time zones for date-times:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="working-with-dates-and-times.html#cb82-1" tabindex="-1"></a><span class="co"># Time where I am</span></span>
<span id="cb82-2"><a href="working-with-dates-and-times.html#cb82-2" tabindex="-1"></a><span class="fu">now</span>()</span>
<span id="cb82-3"><a href="working-with-dates-and-times.html#cb82-3" tabindex="-1"></a></span>
<span id="cb82-4"><a href="working-with-dates-and-times.html#cb82-4" tabindex="-1"></a><span class="co"># Time in UTC / GMT (which are synonymous)</span></span>
<span id="cb82-5"><a href="working-with-dates-and-times.html#cb82-5" tabindex="-1"></a><span class="fu">now</span>(<span class="st">&#39;UTC&#39;</span>)</span>
<span id="cb82-6"><a href="working-with-dates-and-times.html#cb82-6" tabindex="-1"></a></span>
<span id="cb82-7"><a href="working-with-dates-and-times.html#cb82-7" tabindex="-1"></a><span class="fu">now</span>(<span class="st">&#39;GMT&#39;</span>)</span></code></pre></div>
<p>Don’t know what time zone your computer is working in? Use this function:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="working-with-dates-and-times.html#cb83-1" tabindex="-1"></a><span class="fu">Sys.timezone</span>()</span></code></pre></div>
<p>To get a list of time zones accepted in <code>R</code>, use the function <code>OlsonNames</code> (there are about 500 options):</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="working-with-dates-and-times.html#cb84-1" tabindex="-1"></a><span class="fu">OlsonNames</span>() <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">50</span>)</span></code></pre></div>
<p>If you ever need to force the timezone of a <code>datetime</code> object to change without actually changing the date or time, use the function <code>force_tz()</code>:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="working-with-dates-and-times.html#cb85-1" tabindex="-1"></a><span class="co"># Get current time in UTC/GMT</span></span>
<span id="cb85-2"><a href="working-with-dates-and-times.html#cb85-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">now</span>(<span class="st">&#39;UTC&#39;</span>)</span>
<span id="cb85-3"><a href="working-with-dates-and-times.html#cb85-3" tabindex="-1"></a>n</span>
<span id="cb85-4"><a href="working-with-dates-and-times.html#cb85-4" tabindex="-1"></a></span>
<span id="cb85-5"><a href="working-with-dates-and-times.html#cb85-5" tabindex="-1"></a><span class="co"># Change timezone to Central Standard Time without changing time:</span></span>
<span id="cb85-6"><a href="working-with-dates-and-times.html#cb85-6" tabindex="-1"></a><span class="fu">force_tz</span>(n, <span class="at">tzone=</span><span class="st">&#39;America/Chicago&#39;</span>)</span></code></pre></div>
</div>
<div id="using-timestamps-instead" class="section level3 unnumbered hasAnchor">
<h3>Using timestamps instead<a href="working-with-dates-and-times.html#using-timestamps-instead" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One way to avoid timezone issues is to convert a <code>datetime</code> object to a numeric timestamp.</p>
<p>Timestamps record the number of seconds that have passed since midnight GMT on January 1, 1970. It doesn’t matter which timezone you are standing in the seconds that have passed since that moment will be the same:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="working-with-dates-and-times.html#cb86-1" tabindex="-1"></a><span class="co"># Time where I am</span></span>
<span id="cb86-2"><a href="working-with-dates-and-times.html#cb86-2" tabindex="-1"></a><span class="fu">now</span>() <span class="sc">%&gt;%</span> <span class="fu">as.numeric</span>()</span></code></pre></div>
<p>What is the difference between the line of code above and <code>now()</code>?</p>
<p>Timestamps can simplify things when you are doing a lot of adding and subtracting with time. Timestamps are just seconds; they are just numbers. So they are much less of a black box than <code>datetime</code>objects.</p>
<p>You can always convert from a timestamp back into a <code>datetime</code>object:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="working-with-dates-and-times.html#cb87-1" tabindex="-1"></a><span class="co"># Convert to timestamp</span></span>
<span id="cb87-2"><a href="working-with-dates-and-times.html#cb87-2" tabindex="-1"></a>ts <span class="ot">&lt;-</span> <span class="fu">now</span>() <span class="sc">%&gt;%</span> <span class="fu">as.numeric</span>()</span>
<span id="cb87-3"><a href="working-with-dates-and-times.html#cb87-3" tabindex="-1"></a>ts</span>
<span id="cb87-4"><a href="working-with-dates-and-times.html#cb87-4" tabindex="-1"></a></span>
<span id="cb87-5"><a href="working-with-dates-and-times.html#cb87-5" tabindex="-1"></a><span class="co"># Convert back to datetime object</span></span>
<span id="cb87-6"><a href="working-with-dates-and-times.html#cb87-6" tabindex="-1"></a>ts <span class="sc">%&gt;%</span>  <span class="fu">as_datetime</span>()</span></code></pre></div>
</div>
<div id="exercises-1" class="section level3 unnumbered hasAnchor">
<h3>Exercises<a href="working-with-dates-and-times.html#exercises-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Create <code>datetime</code> objects</strong></p>
<p>Use the appropriate <code>lubridate</code> function to parse each of the following dates (<em>aka make each of the following strings into dates</em>):</p>
<p><strong>1.</strong> <code>January 1, 2010</code></p>
<p><strong>2.</strong> <code>2015-Mar-07</code></p>
<p><strong>3.</strong> <code>06-Jun-2017</code></p>
<p><strong>4.</strong> <code>c('August 19 (2015)', 'July 1 (2015)')</code></p>
<p><strong>5.</strong> <code>12/30/14</code></p>
<p><strong>Extracting <code>datetime</code> components</strong></p>
<p>Work with this date:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="working-with-dates-and-times.html#cb88-1" tabindex="-1"></a>dt <span class="ot">&lt;-</span> <span class="st">&#39;2000-01-04 03:43:01&#39;</span></span></code></pre></div>
<p><strong>6.</strong> Make a variable with the following name with the corresponding information using the date above:</p>
<ul>
<li><code>raw</code> (containing the original string)</li>
<li><code>year</code></li>
<li><code>month</code></li>
<li><code>dom</code>(day of month)</li>
<li><code>doy</code> (day of year)</li>
<li><code>hour</code><br />
</li>
<li><code>minutes</code><br />
</li>
<li><code>seconds</code></li>
</ul>
<p><strong>7.</strong> Now calculate two more variables:</p>
<ul>
<li><code>timestamp</code><br />
</li>
<li><code>diff</code>(the difference, in days, between this time and midnight GMT on January 1, 1970)</li>
</ul>
<p><strong>Some common uses of <code>datetime</code></strong></p>
<p><strong>8.</strong> Write code to say what time it is in the timezone that you were born in.</p>
<p><strong>9.</strong> Calculate your age using your birthday and today’s date in years. In days! In seconds!!</p>
<p><strong>10.</strong> How many seconds have occurred since the Armistice Day?</p>
</div>
</div>
<div id="dates-times-and-malaria" class="section level2 unnumbered hasAnchor">
<h2>Dates, Times, and Malaria<a href="working-with-dates-and-times.html#dates-times-and-malaria" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="learning-goals-1" class="section level3 unnumbered hasAnchor">
<h3>Learning goals<a href="working-with-dates-and-times.html#learning-goals-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>This is a review exercise. You’ll be using the skills you’ve developed with the ´dplyr´, ´ggplot2´, and <code>lubridate</code> packages.</li>
</ul>
<p><strong>1.</strong> Start a new script. Name it <code>malaria.R</code>.</p>
<p><strong>2.</strong> Set up your work space by loading the <code>readr</code>, <code>ggplot2</code>, <code>dplyr</code>, and <code>lubridate</code> packages.</p>
<p><strong>3.</strong> Read in some malaria data by running the following:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="working-with-dates-and-times.html#cb89-1" tabindex="-1"></a>pms <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&#39;https://github.com/databrew/intro-to-data-science/blob/main/data/pms.csv?raw=true&#39;</span>)</span></code></pre></div>
<p><strong>4.</strong> Take a look at the first few rows of the data. What is the unit of observation?</p>
<p><strong>5.</strong> Create a new column/variable in pms named dow (as in, “day of week”). This should be the day of the week of the date_visit.</p>
<p><strong>6.</strong> How many visits were there to Catale on May 1 2022?</p>
<p><strong>7.</strong> How many of those were for malaria?</p>
<p><strong>8.</strong> Which age group has had the most malaria?</p>
<p><strong>9.</strong> What day of the week has the most visits?</p>
<p><strong>10.</strong> Which month has had the most malaria visits?</p>
<p><strong>11.</strong> Which month has had the greatest percentage malaria visits?</p>
<p><strong>12.</strong> Make a variable called hour of day?</p>
<p><strong>13.</strong> Which hour of day has the most visits?</p>
<p><strong>14.</strong> What do you think the function mdy_hms is/does?</p>
<p><strong>15.</strong> Look up the documentation for mdy_hms.</p>
<p><strong>16.</strong> Use mdy_hms to create a new variable in pms named date_time based on the variable start_time.</p>
<p><strong>17.</strong> Use the hour function to create a variable named hour_of_day from the date_time variable. This should be the hour of the day.</p>
<p><strong>18.</strong> Get the total number of malaria cases diagnoses by hour of day.</p>
<p><strong>19.</strong> Visualize the total number of malaria cases diagnoses by hour of day.</p>
<p><strong>20.</strong> Visualize the total number of malaria cases diagnoses by hour of day, but separated by day.</p>
</div>
</div>
<div id="coughs" class="section level2 unnumbered hasAnchor">
<h2>Coughs<a href="working-with-dates-and-times.html#coughs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As you can see there are SO many ways you can work with dates and times. One final example which you may not have thought of is… <em>coughs</em>!</p>
<p>First, download some data:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="working-with-dates-and-times.html#cb90-1" tabindex="-1"></a>coughs <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/coughs.csv&#39;</span>)</span></code></pre></div>
<p><strong>1.</strong> Create a <code>dow</code> (day of week) column.</p>
<p><strong>2.</strong> Create a <code>date</code> (without time) column.</p>
<p><strong>3.</strong> How many coughs happened each day?</p>
<p><strong>4.</strong> Create a chart of coughs by day.</p>
<p><strong>5.</strong> Look up the function <code>floor_date</code>. Use it to get the number of coughs by date-hour.</p>
<p><strong>6.</strong> Create an <code>hour</code> variable.</p>
<p><strong>7.</strong> Use the <code>hour</code> variable to create a <code>night_day</code> column indicating whether the cough was occurring at night or day.</p>
<p><strong>8.</strong> Does this child cough more at night or day?</p>
<p>Once you’re done be sure to ask Matthew, ‘what is <a href="https://www.hyfe.ai/">Hyfe</a>?’</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="making-choropleths.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="working-with-text.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/datatrainglobal/rbootcamp/edit/master/04h-dates-and-times.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["rbootcamp.pdf", "rbootcamp.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
