[["index.html", "R Bootcamp Module 1 Welcome What is this website? Who are we?", " R Bootcamp Module 1 Welcome What is this website? This is not a textbook or an encyclopedia. This is not a reference manual. It is not exhaustive or comprehensive. We barely mention statistical tests at all. There is almost no theory. In fact, this curriculum is biased, non-representative, and incomplete – by design. So what is this? This website is a guide designed to help you through the most dangerous period in your data science education: your very first steps. The first few weeks. That is when 99% percent of people give up on learning to code. You want to be part of the 1%? Okay, then you need to understand these 3 things: Premise 1: We learn best by doing. Our goal is to get you doing data science. We will keep theory and detail to a minimum. We will give you the absolute basics, then offer you exercises and puzzles that motivate you to learn the rest. Then, once you’ve been doing data science for a bit, you soon begin thinking like a data scientist. By that, we mean tackling ambiguous problems with persistence, independence, and creative problem solving. With the focus on doing (as opposed to listening, reading, watching, etc.), the burden is on you. You gotta do the work. Premise 2: We learn best with purpose. Once you gain comfort with the basic skills, you will be able to start working on real data, for real projects, with real impact. You will start to care about what you are coding. And that is when the learning curve skyrockets – because you are motivated, and because you are learning reactively, instead of preemptively. Our goal is to get you to the point of take-off as quickly as possible. Premise 3: A simple toolbox is all you need to build a house. Once you become comfortable with a few basic coding tools, you can build pretty much anything. The toolbox doesn’t need to be that big; if you know how to use your tools well, and if you have enough building supplies (i.e., data), the possibilities are limitless. One more thing that this is not: This is not a fancy interactive tutorial with bells or whistles. We purposefully designed this to be simple and “analog”. You will not be typing your code into this website and getting feedback from a robot, or setting up an account to track your progress, or getting pretty merit badges or points when you complete each module. Instead, you will be doing your work on your own machine, working with real folders and files, downloading data and moving it around, etc. – all the things you will be doing as a real data scientist in the real world. Enough talk. Let’s go. Click on “Setting up your computer” and let’s get to work. Who are we? Datatrain (www.datatrain.global) is a project of Databrew (www.databrew.cc). "],["setting-up-your-computer.html", "Module 2 Setting up your computer Install R Install RStudio Install packages", " Module 2 Setting up your computer It’s time to set up your system. Ready? Let’s go. Install R First, let’s get the right programs installed on your computer. Then we will explain what they are and why you need them. First, download and install R: Go to the following website, click the Download button, and follow the website’s instructions from there. https://mirrors.nics.utk.edu/cran/ Install RStudio Second, download and install RStudio: Go to the following website and choose the free Desktop version: https://rstudio.com/products/rstudio/download/ Third, make sure RStudio opens successfully: Open the RStudio app. A window should appear that looks like this: Fourth, make sure R is running correctly in the background: In RStudio, in the pane on the left (the “Console”), type 2+2 and hit Enter. If R is working properly, the number “4” will be printed in the next line down. Finally, some minor adjustments to make RStudio run smoother (and look cooler): Go to Tools &gt; Global Options and make sure your General settings match these exactly: Specifically, uncheck the option under Workspace to ‘Restore .RData into workspace at startup.’ Now go to the Appearance settings and choose a cool theme! Boom! You’ve got R up and running. Now it’s time to install some packages. Install packages Packages are what makes R so great. To install a package, open Rstudio and type the following code into the “Console” in the bottom left Did that work? Probably not, because “packagename” is not a real R package. The packages we’ll be using are the following: tidyverse RColorBrewer leaflet ggthemes rmarkdown sp To install all of these, you can run install.packages for each package: So, now you’ve got R, RStudio, and some cool packages. Good job. You’re ready for the next module. "],["first-code.html", "Module 3 First code File paths Scripts and your workspace R as a calculator Re-running code Incomplete commands Getting errors Using parentheses Use built-in R functions Objects and vectors Exercises R and RStudio: what’s the difference? Two-minute tour of RStudio", " Module 3 First code Are you ready to write some code? I hope so, because it’s time. File paths Good organization is the key to success, so let’s start by creating a folder for all of your DataLab work. … now that you’ve done this, REMEMBER WHERE YOUR FOLDER IS AND STAY ORGANIZED!! Scripts and your workspace In RStudio, click “File” in the upper left and then “New file -&gt; R Script”. This will open a window pane in the upper left of your screen. This “script” is basically a place for you to write and save code. Got it? Good. Now click “File” then “Save as” and then save your script locally somewhere where you’ll remember it. For example, you could save it on your “Desktop” as a file named “firstcode.R”. Your workspace consists of: Your script (upper left). This is where you talk to R. The console (bottom left). This is where R talks back to you. The “environment” (upper right). This is a place where you can explore data “objects” you’ve created (don’t worry, we’ll get there). The “plots” tab (bottom right). This is where you’ll see outputs of charts, maps, etc. R as a calculator At its most basic, R is a big calculator. Or a conversation partner. However you like to think of it. You talk to R by typing some code in your script (upper left), and R talks back by printing something in the console (bottom left). For example, if you want to ask R what two plus two is, you’d write this on line one of your script. 2 + 2 Then, if you place your cursor on that line and run “ctrl + enter” (or “cmd + enter” if on Mac), that code will “run” and R will give you the response. [1] 4 Cool, huh? You can, of course, type more complex math problems. Try typing the following on line 2: 10392 * (13/72)^2 - sqrt(9.123) + (475/2.2)^3 Did you get the below as an answer? [1] 10065313 Good. As you can see, some calculations are pretty straightforward, like addition (+), subtraction (-), division (/), and even multiplication (*). 4 + 4 4 - 3 12 / 6 10 * 10 You can even perform calculations with negative numbers. 96 + -2 And exponents can be denoted like this. 2 ^2 100 ^5 Make sure you have run all of these in your computer. Done? Great, that’s R as a calculator. Re-running code Sometimes you may want to re-run a line of code that you just ran or to recall code so that you can adjust it slightly. Click anywhere in the Console and then press your keyboard’s Up arrow. That line of code that appears in your Console is the last line of code you just ran. Good work! Try clicking the Up arrow three times. Do you see the line of code that you ran three times ago? Yes you do. That’s because R keeps a history of everything you have said to it since you opened this window. So if you keep pressing your Up arrow, R will show you all of the lines of code you previously ran. If you don’t want this old command, simply press Escape to reset the Console’s command line, and now you’re ready to re-run code in the Console. Incomplete commands Similar to talking to a friend, if you start a sentence and don’t finish it, your friend will get confused. R gets confused when you enter an incomplete command and will wait for you to finish it in the Console before doing anything. For example, try running this code in your Console: 45 - Is R giving you a little + sign on the line under your command? That’s because it is waiting for you to complete your command. If you want to complete it, add a number (e.g., 3) and hit Enter. You should now be given an answer (e.g., 42). Or, if instead you want R to stop waiting and stop running, just press the Escape key Getting errors Our commands can’t only be complete, but they need to follow the rules of R. We know that if the command is incomplete that R will give us a + sign, but what about when we don’t follow the rules of R? Try running this code in your Console: 4 + y You probably received a message in red font stating: Error: object ‘y’ not found. That is because R did know how to interpret the symbol y in this case, so it just gave up. If R does not understand your code, it will throw an error and give up on trying to execute that line of code but don’t be deterred when you see an error! They happen all the time, even to the professionals. The only thing we can do is read your code, find the errors, and fix them. Here’s another piece of code that will produce an error (just for fun): dfjkltr9fitwt985ut9e3 Using parentheses Another rule of R pertains to parentheses. Exactly how it is done in math, you can use parentheses to exert control over the order in which you perform calculations. For example, these two commands produce different results: 2*7 - 2*5 / 2 (2*7 - 2*5) / 2 Note parentheses need to come in pairs: whenever you type an open parenthesis, (eventually you need to provide a corresponding closed parenthesis). A very common way to get errors is by missing a parentheses. For instance, the following line of code will return a plus sign (+) since R is waiting for you to close the parenthetical before it processes your command: 4 + (5 No matter how many parenthesis you have always close your parenthesis. Based on this which of the below is correct and why? (((5+5))) (((5+5)) So lesson is… always close your parentheses even for the funny ones like {…} and […]. Use built-in R functions R has some built-in “functions” for common calculations. Rather than defining a function let’s just do some. Let’s find the square-root of a number using the ‘squirt’ command, sqrt(): sqrt(16) Note the use of parentheses here. When you are calling a function, when you see parentheses, think of the word ‘of’. This line translates to ‘the square root of 16’. You are taking the sqrt of the number inside the parenthetical. Let’s try again with a different function. Find: the log of 4. log(4) Note that the function log() is the natural log function (i.e., the value that e must be raised to in order to equal 4). To calculate a base-10 logarithm, use log10( ). log(10) log10(10) Another handy function is round(), for rounding numbers to a specific number of decimal places. 100/3 round(100/3) round(100/3,digits=1) round(100/3,digits=2) round(100/3,digits=3) Finally, R also comes with some built-in values, such as pi: pi So now that you have used a few functions, let’s define it. A function is a package of code that does the following: takes a given value, transforms it according to some internal code instructions, and provides an output. You will learn more about functions later, but this is a good intro. Objects and vectors R can do so much more than be just a calculator. Your first step in uncovering the potential of R is to make variables. All things variables To assign numbers or other types of data to a variable, you use the &lt; and - characters to make the arrow symbol &lt;-. x &lt;- 1 y &lt;- 2 Where did those values go? You do not see the numbers printed in the Console because the values were stored in the variables x, and y. These are now in the Environment. So how do we use or see these variables? If you want R to tell you what x is, just type the variable name and run it. x If you want to do calculations with the variables then do it. x + 100 x * 2 x + y If you want to do calculations with variables and make that answer into a new variable, you can do that too. z &lt;- x + y - 1 In R, a variable is another way to refer to value. That value can be as simple as a single number (e.g., 6) or as complex as a spreadsheet with thousands of rows and columns. Think of a variable as a cup; just as cups make it easy to hold your coffee and carry it from the kitchen to the couch, variables make it easy to contain and work with data. Let’s make a new variable from x that isn’t just one value but is multiple values. a &lt;- rep(x, 5) How do you look at the response of a again? What does it look like the rep() function does? Since a isn’t just a single value, we can do some cool things, like find how many values are in the variable: length(a) Let’s create a vector, which is very similar to what we did above, and do some calculations: b &lt;- c(1,2,3) b + 100 b * 2 Good work! You’re a master of this. So let’s make it interesting. Let’s look at some various ages. To start we need to make a new vector and give it a name, however A variable/vector name has to have at least one letter in it, A variable/vector name has to be connected. AKA no spaces. Instead of a space try a period ( . ) or an underscore ( _ ). Note: hyphens cannot be used, There are some other rules, but we can learn them as we go so let’s jump in and create a variable with some ages and find out some information about these ages. ages &lt;- c(20, 30, 25, 35) mean(ages) max(ages) min(ages) median(ages) summary(ages) Now, in data it is super common to have NAs so let’s make a vector called ages but introduce an NA and re-do all those functions. Does it work? ages &lt;- c(20, 30, 25, 35, NA, 28) mean(ages) It doesn’t work! Well what if we try this: ages &lt;- c(20, 30, 25, 35, NA, 28) mean(ages, na.rm = TRUE) Did it work? Of course it did because you’re a genius! But more importantly it actually worked because the na.rm = TRUE is removing the NA. We are saying “take the mean of ages and remove the NAs.” What happens if we set na.rm to FALSE? mean(ages, na.rm = FALSE) Why didn’t this work? This is because we said “take the mean of ages and do not remove the NAs.” We can’t know the mean of ages when we are missing an age, so we need to remove the unknown in order to be able to do a calculation. Try the na.rm with the calculations we performed above. max(ages, na.rm = TRUE) min(ages, na.rm = TRUE) median(ages, na.rm = TRUE) summary(ages, na.rm = TRUE) Another interesting feature is that we can do comparisons like greater than and smaller than in R. Let’s compare one age with many ages. old_threshold &lt;- 30 ages &gt; old_threshold ages &lt; old_threshold table(ages &gt; old_threshold) This can be very useful right? Let’s make an even larger vector and learn some tricks to do so. Sometimes it can be hard to type out each individual number hundreds of times so let’s take a look below at what are some other ways to look at vectors. a &lt;- c(1, 2, 3, 4, 5, 6, 7) b &lt;- 1:1000 d &lt;- seq(0, 1000000, by = 10000) length(d) Up until this point we have focused on numbers which are numeric, but we can also work with words which we refer to as strings. Let’s create a vector with some names of people and call it people and explore the names. Note: while you may want to name it names, R already has a function called names, and we want to avoid naming variables and vectors after functions. Just like we don’t want to make a variable called mean or min. people &lt;- c(&#39;Michael&#39;, &#39;Nika&#39;, &#39;Delana&#39;) people == &#39;Matthew&#39; people == &#39;Nika&#39; table(people == &#39;Nika&#39;) &#39;John&#39; %in% people &#39;John&#39; == people Exercises Use R like a calculator 1. Type a command in the Console to determine the sum of 596 and 198. 2. Re-run the sum of 596 and 198 without re-typing it. 3. Recall the command again, but this time adjust the code to find the sum of 596 and 298. 4. Practice escaping an accidentally called command: recall your most recent command, then press the right key to clear the Console’s command line.   Recalling commands 5. Find the sum of the ages of everyone in your immediate family. 6. Now recall that command and adjust it to determine the average age of the members of your family. 7. Find the square root of pi and round the answer to the 2 decimal places.   Finding errors 8. This line of code won’t run; instead, R will wait for more with a + symbol. Find the problem and re-write the code so that it works. 5 * 6 + 9. The same goes for this line of code. Fix it, too. sqrt(16 10. This line of code will trigger an error. Find the problem and re-write the code so that it works. round(100/3,digits+3) 11. Type a command of your own into R that throws an error, then recall the command and revise so that R can understand it.   Show that the following statements are TRUE: 12. pi is greater than the square root of 9 13. It is FALSE that the square root of 9 is greater than pi 14. pi rounded to the nearest whole number equals the square root of 9   Asking TRUE / FALSE questions 15. Write and run a line of code that asks whether these two calculations return the same result: 2*7 - 2*5 / 2 (2*7 - 2*5) / 2 [1] 2 16. Now write and run a line of code that asks whether the first calculation is larger than the second:   R and RStudio: what’s the difference? These two entities are similar, but it is important to understand how they are different. In short, R is an open-source (i.e., free) coding language: a powerful programming engine that can be used to do really cool things with data. R Studio, in contrast, is a free user interface that helps you interact with R. If you think of R as an engine, then it helps to think of RStudio as the car that makes it easier and more comfortable to use the engine to get where you want to go. RStudio needs R in order to function, but R can technically be used on its own outside of RStudio if you want. However, just as a good car mechanic can get an engine to run without being installed within a car, using R on its own is a bit clunky and requires some expertise. For beginners (and everyone else, really), R is just so much more pleasant to use when you are operating it from within RStudio. RStudio als has increasingly powerful features that make R even more useful and versatile in data science. For instance you can make an interactive data dashboard, beautifyl and reproducible data reports, presentations, websites, and even this book! And new features are regularly being added to RStudio by its all-star team of data scientists. That’s why we will always use RStudio´ when working withR` in this book. Two-minute tour of RStudio When you open RStudio, you will see a window that looks like the screenshot below: Console You are already acquainted with RStudio’s Console, the window pane on the left that you use to “talk” to R. Environment In the top right pane, the Environment, RStudio will maintain a list of all the datasets, variables, and functions that you are using as you work. The next modules will explain what variables and functions are. Files, Plots, Packages, &amp; Help You will use the bottom right pane very often. The Files tab lets you see all the files within your working directory, which will be explained in the section below. The Plots tab lets you see the plots you are producing with your code. The Packages tab lets you see the packages you currently have installed on your computer. Packages are bundles of R functions downloaded from the internet; they will be explained in detail a few modules down the road. The Help tab is very important! It lets you see documentation (i.e., user’s guides) for the functions you use in your code. Functions will also be explained in detail a few modules down the road. These three panes are useful, but the most useful window pane of all is actually missing when you first open RStudio. This important pane is where you work with scripts. "],["in-class-survey.html", "Module 4 In-class survey Exploring data R as a calculator dplyr", " Module 4 In-class survey Open a new R script and name it survey.R Write code to load the following libraries: dplyr, readr, and ggplot2 Fill out the survey at https://docs.google.com/forms/d/e/1FAIpQLSf_-POnYlMPAJO-RJxfbrZef6q9YAEQuPMb3qIBfcmizAkZAw/viewform?usp=sf_link. Once everybody is done, read in the survey by running the below: survey &lt;- gsheet::gsheet2tbl(&#39;https://docs.google.com/spreadsheets/d/1Ra5LhxdCRbmEp-wV07ZlREDt3gysBgyUG4AWuaa1pzk/edit?usp=sharing&#39;) Run the below code to process the data a bit names(survey) &lt;- c( &#39;timestamp&#39;, # &quot;Timestamp&quot;, &#39;name&#39;, # &quot;What is your name?&quot;, &#39;experience&#39;, # &quot;How much experience do you have in R?&quot;, &#39;soda&#39;, # &quot;How many sodas do you drink a week?&quot;, &#39;squat&#39;, # &quot;How long do you think you can hold a wall squat (seconds)? (ie, the &#39;imaginary chair&#39;)?&quot;, &#39;egypt_or_france&#39;, # &quot;Would you rather visit the pyramids of Egypt or the Eiffel tower of Paris?&quot;, &#39;bike&#39;, # &quot;Do you know how to ride a bike?&quot;, &#39;swim&#39;, # &quot;Do you know how to swim?&quot;, &#39;age&#39;, # &quot;How old are you in years?&quot;, &#39;where&#39;, # &quot;Where do you live?&quot;, &#39;lng&#39;, # &quot;What is the longitude of your hometown?&quot;, &#39;lat&#39;, # &quot;What is the latitude of your hometown?&quot;, &#39;language&#39;, # &quot;Do you know how to speak another language aside from English?&quot;, &#39;height&#39;, # &quot;How tall are you in inches?&quot;, &#39;shoe&#39;, # &quot;What size shoe do you wear? (US Size)&quot;, &#39;hand&#39;, # &quot;Are you right-handed or left-handed?&quot;, &#39;happy&#39;, # &quot;How happy do you consider yourself on a scale from 1 to 5, with 1 being extremely unhappy, 5 being extremely happy, and 3 being the average person?&quot;, &#39;sing&#39;, # &quot;Do you consider yourself better or worse than average at singing?&quot;, &#39;pizza_or_love&#39;, # &quot;What&#39;s more important pizza or love?&quot;, &#39;dance&#39;, # &quot;Do you consider yourself better than average at dancing?&quot;, &#39;sleep&#39;, # &quot;How many hours did you sleep last night&quot;, &#39;eat&#39;, # &quot;Would you rather eat&quot;, &#39;adjective&#39;, # &quot;What is the one adjective that best describes you?&quot;, &#39;teeth&#39;, # &quot;How many teeth do you have?&quot;, &#39;braces&#39;, # &quot;If you had to have braces the rest of your life, which color would you choose?&quot;, &#39;siblings&#39;, # &quot;How many siblings do you have?&quot;, &#39;wrestle&#39;, # &quot;Of the people in this room, who would win a pinky wrestle against Michael?&quot;, &#39;hangout&#39;, # &quot;What is the best place to hang out in Sewanee?&quot;, &#39;movies&#39;, # &quot;How many movies have you watched in the last month?&quot; &#39;dob&#39; # &quot;What is your date of birth?&quot; ) Run the following code to inspect the data View( survey ) Exploring data How many columns are in the data? What are the names of the columns in the data? How many rows are in the data? Write code to look at just the first few rows of the data. Write code to look at just the last few rows of the data. How many people can ride a bike? Cannot ride a bike? How many people can swim? Cannot swim? How many teeth do people have? How happy are people? R as a calculator What is the average number of teeth per person? What are the minimum and maximum number of teeth per person? What are the average and median heights? What percentage of people can ride a bike? Cannot ride a bike? What percentage of people think that pizza is more important than love? Summarize how much people slept last night. Summarize how many sodas people drink per week. dplyr Get in groups of two. Create 3 questions to ask of this survey data, each of which involves at least 2 variables. "],["exploring-a-dataset.html", "Module 5 Exploring a dataset dplyr ggplot2", " Module 5 Exploring a dataset Let’s explore a dataset that consists of people who died and survived during a major event. Maybe you can even guess the event! Open a new R script and name it survival.R Write code to load the following libraries: dplyr, readr, and ggplot2 Read in the data by running the following: people &lt;- readr::read_csv(&#39;https://datatrain.cc/data/survival.csv&#39;) dplyr How many columns are in the data? What are the names of the columns in the data? How many rows are in the data? Write code to look at just the first few rows of the data. Write code to look at just the last few rows of the data. What do you suppose the survived variable refers to? Re-order the dataset by age, from youngest to oldest. How old was the youngest person in the dataset? Re-order the dataset by age, from oldest to youngest. How old was the oldest person in the dataset? How many males are there in the dataset? How many females are there in the dataset? What percentage of the dataset is female? How many people survived? How many people died? What percentage of the people died? How many males survived? How many females died? What percentage of males died? What percentage of people who died were male? What percentage of people who survived were male? What percentage of people who died were female? How many people were in each class? How many people from each class survived and died? What percentage of people from each class died? What is the age of the youngest survivor? What is the age of the oldest survivor? What is the age of the youngest surviving male? What is the sex of the oldest person who died? What is the average of age of females who died? What is the average age of males who survived? Make a table showing the exact number of people that died and survived, grouping also by class and sex. Create a variable named outcome. Populate this variable with the characters “survived” or “died” depending on the survived variable. Make another variable called age_group. If the person is over 18, call them “adult”; otherwise, call them “child”. Make another variable called person_type. Use paste0 to combine the sex and age_group variables, in that order. Make another variable called initial. This should be the first letter of each person’s last name. Hint, use substr. What is the most prevalent initial in the dataset? What is the least prevalent second letter in people’s last names? Use nchar to calculate the number of letters in each person’s name, and make a variable with that value named name_length. Who has the longest name in the dataset? Who has the shortest name in the dataset? Make a variable called above_average_name_length. This should be TRUE if the person’s name length is above average, and false if below or at average. Who is more likely to have survived: those with short names, or those with long names. What is the age of the female with the shortest name who survived? What is the sex of the oldest person to have died who had an above average name length? Who, on average, has shorter names: males or females? What is the total number of characters in all female names, and all male names? ggplot2 Make a histogram of the age of people. Make a barchart of the class of people. Make a barchart of the outcome variable. Make a scatterplot of the name_length and age variables. Make a chart showing the age of males and females separately. Make a chart showing survivorship by sex. Make a chart showing survivorship by age. Make a chart showing the age, sex, and survivor status of people. Make a chart showing the distribution of the lengh of people’s names. Assume that the average life expectancy is 80. How many years of life were lost due to this event? How many years of life lost were attributible to males? How many to females? Make three more charts. What caused this event? "],["visualizing-data-with-ggplot2.html", "Module 6 Visualizing data with ggplot2 Introduction to ggplot2 Demography exercises Gapminder exercises Exercises with world health data", " Module 6 Visualizing data with ggplot2 Introduction to ggplot2 Tables and summary statistics are fine, but a good visualization is even better! This is where the tidyverse shines, so it’s time to learn how to use its fantastic visualization package, ggplot2. 1. Open a new R script and name it ggplot.R. 2. Write code to load the tidyverse. 3. Load our survey data and clean things up a bit: survey &lt;- gsheet::gsheet2tbl(&#39;https://docs.google.com/spreadsheets/d/1Ra5LhxdCRbmEp-wV07ZlREDt3gysBgyUG4AWuaa1pzk/edit?usp=sharing&#39;) names(survey) &lt;- c( &#39;timestamp&#39;, # &quot;Timestamp&quot;, &#39;name&#39;, # &quot;What is your name?&quot;, &#39;experience&#39;, # &quot;How much experience do you have in R?&quot;, &#39;soda&#39;, # &quot;How many sodas do you drink a week?&quot;, &#39;squat&#39;, # &quot;How long do you think you can hold a wall squat (seconds)? (ie, the &#39;imaginary chair&#39;)?&quot;, &#39;egypt_or_france&#39;, # &quot;Would you rather visit the pyramids of Egypt or the Eiffel tower of Paris?&quot;, &#39;bike&#39;, # &quot;Do you know how to ride a bike?&quot;, &#39;swim&#39;, # &quot;Do you know how to swim?&quot;, &#39;age&#39;, # &quot;How old are you in years?&quot;, &#39;where&#39;, # &quot;Where do you live?&quot;, &#39;lng&#39;, # &quot;What is the longitude of your hometown?&quot;, &#39;lat&#39;, # &quot;What is the latitude of your hometown?&quot;, &#39;language&#39;, # &quot;Do you know how to speak another language aside from English?&quot;, &#39;height&#39;, # &quot;How tall are you in inches?&quot;, &#39;shoe&#39;, # &quot;What size shoe do you wear? (US Size)&quot;, &#39;hand&#39;, # &quot;Are you right-handed or left-handed?&quot;, &#39;happy&#39;, # &quot;How happy do you consider yourself on a scale from 1 to 5, with 1 being extremely unhappy, 5 being extremely happy, and 3 being the average person?&quot;, &#39;sing&#39;, # &quot;Do you consider yourself better or worse than average at singing?&quot;, &#39;pizza_or_love&#39;, # &quot;What&#39;s more important pizza or love?&quot;, &#39;dance&#39;, # &quot;Do you consider yourself better than average at dancing?&quot;, &#39;sleep&#39;, # &quot;How many hours did you sleep last night&quot;, &#39;eat&#39;, # &quot;Would you rather eat&quot;, &#39;adjective&#39;, # &quot;What is the one adjective that best describes you?&quot;, &#39;teeth&#39;, # &quot;How many teeth do you have?&quot;, &#39;braces&#39;, # &quot;If you had to have braces the rest of your life, which color would you choose?&quot;, &#39;siblings&#39;, # &quot;How many siblings do you have?&quot;, &#39;wrestle&#39;, # &quot;Of the people in this room, who would win a pinky wrestle against Michael?&quot;, &#39;hangout&#39;, # &quot;What is the best place to hang out in Sewanee?&quot;, &#39;movies&#39;, # &quot;How many movies have you watched in the last month?&quot; &#39;dob&#39; # &quot;What is your date of birth?&quot; ) survey &lt;- survey %&gt;% mutate( dob = mdy( dob ), age_in_weeks = as.numeric( difftime( Sys.Date(), dob, units = &#39;weeks&#39;) ) ) 4. In order to make a plot we need a piece of paper or a canvas. So let’s make a canvas: 5. To get started, let’s make some bar plots. 6. Great! Now let’s make a different kind of plot. First, draw your x axis and your y axis (a.k.a. make your coordinates). Ask yourself: What do I want to see? 7. Map the data to the coordinates. Here we will map the data to the coordinates using points. Ask yourself: How do I want to show what I want to see? 8. What if you want to color code these points? Now you’re choosing what else you want to see and how. 9. Add some labels. ggplot() automatically added axis titles and a legend, but we can add some more using the labs() function. Let’s add an overhead title, a sub-title, and a caption. 10. We can also make separate plots for a variable by faceting. 11. Let’s stylize the plot with a different theme. 12. Ready for something different? Let’s make a histogram. 13. As you can see, we can make a lot of different types of charts in R. You can even make a new variable and use it in your plot, but let’s not get ahead of ourselves. So let’s learn by doing rather than lecturing and move on to a new dataset. Demography exercises We’re going to work with some anonymized demography data, for both households and individuals. Let’s start by creating a new script, naming it demography.R, and reading in some data as shown below: library(tidyverse) households &lt;- readr::read_csv(&#39;https://datatrain.cc/data/anonymized_demography.csv&#39;) people &lt;- readr::read_csv(&#39;https://datatrain.cc/data/anonymized_demography_individuals.csv&#39;) What is the average age of people? On average, who is older: men or women? How many children are there in the dataset? Make a histogram of age. Make a smoothed histogram using geom_density of age. Make a smoothed histogram of age, but make different “fill” colors for men and women. Make a point chart wherein the x-axis is sex and the y-axis is age. Replace geom_point with geom_jitter so that the points don’t overlap so much. Make the points semi-transparent. Make the points twice as large. Give the plot a title, an x label, and a y label. Add a “violin” plot to the plot. Move the violin to behind the points. Make the points colored by sex. Replace the violin chart with a boxplot. What is the breakdown of household heads and sex (i.e., what number and percentage of household heads are male vs female)? Make a bar chart showing the number of households which are headed by men vs women. What is the average age of household heads who are female vs. the average age of household heads who are male? Make a chart showing the distribution of household heads’ age, which shows both males and females separately. What do you think explains this difference in age? Make a new variable indicating whether the household head is the oldest person in their household or not. What percentage of female household heads are the oldest person in their household? And males? What is the age of the youngest household head? Create a simple scatter plot with longitude as the x value and latitude as the y value. Make a table showing the distribution of wall types. Make a chart to replace the above table. Which fieldworker visited the most households? Which cluster has the most cattle? On what date were most households visited? Gapminder exercises This review exercise is useful immediately after you learn ggplot2 and dplyr.   First, let’s read in some data on health from the World Bank: library(readr) library(dplyr) library(ggplot2) library(gapminder) gm &lt;- gapminder::gapminder 1. How many rows are in the dataset? 2. How many columns are in the dataset? 3. What are the names of the columns? 4. What is the oldest year in the dataset? 5. What is the country/year with the greatest population in the dataset? 6. Get the average GDP per capita for each continent in 1952. 7. Get the average GDP per capita for each continent for the most recent year in the dataset. 8. Average GDP is a bit misleading, since it does not take into account the relative size (in population) of the different countries (ie, China is a lot bigger than Cambodia). Look up the function weighted.mean. Use it to get the average life expectancy by continent for the most recent year in the dataset, weighted by population.   9. Make a barplot of the above table (ie, average life expectancy by continent, weighted by population). 10. Make a point plot in which the x-axis is country, and the y-axis is GDP. Add the line theme(axis.text.x = element_text(angle = 90)) in order to make the x-axis text vertically aligned. What’s the problem with this plot? How many points are there per country? 11. Make a new version of the above, but filter down to just the earliest year in the dataset. 12. Make a scatterplot of life expectancy and GDP per capita, just for 1972. 13. Make the same plot as above, but for the most recent year in the data. 14. Make the same plot as the above, but have the size of the points reflect the population. 15. Make the same plot as the above, but have the color of the points reflect the continent.   16. Filter the data down to just the most recent year in the data, and make a histogram (geom_histogram) showing the distribution of GDP per capita. 17. Get the average GDP per capita for each continent/year, weighted by the population of each country. 18. Using the data created above, make a plot in which the x-axis is year, the y-axis is (weighted) average GDP per capita, and the color of the lines reflects the content. 19. Make the same plot as the above, but facet the plot by continent. 20. Make the same plot as the above, but remove the coloring by continent.   21. Make a plot showing France’s population over time. 22. Make a plot showing all European countries’ population over time, with color reflecting the name of the country. 23. Create a variable called status. If GDP per capita is over 20,000, this should be “rich”; if between 5,000 and 20,000, this should be “middle”; if this is less than 5,000, this should be “poor”. 24. Create an object with the number of rich countries per year. 25. Create an object with the percentage of countries that were rich each year.   26. Create a plot showing the percentage of countries which were rich each year. 27. Create an object with the number of people living in poor countries each year. 28. Create a chart showing the number of people living in rich, medium, and poor countries per year (line chart, coloring by status). 29. Create a chart showing the life expectancy in Somalia over time. 30. Create a chart showing GDP per capita in Somalia over time.   31. Create a histogram of life expectancy for the most recent year in the data. Facet this chart by continent. 32. Create a barchart showing average continent-level GDP over time, weighted for population, with one bar for each year, stacked bars with the color of the bars indicating continent (geom_bar(position = 'stack')). 33. Create the same chart as above, but with bars side-by-side (geom_bar(position = 'dodge')) 34. Generate 3-5 more charts / tables that show interesting things about the data. 35. Make the above charts as aesthetically pleasing as possible. Exercises with world health data Start by reading in your data. Explore the data, and write 3 questions you’d like to ask it. Answer the questions with tables. Answer the questions with charts. "],["exploring-sanitation.html", "Module 7 Exploring sanitation", " Module 7 Exploring sanitation In the world of data science and public health, we have to work as a team to solve problems. Today you are going to apply what you’ve learned about dplyr and ggplot to learn about sanitation around the world. Good luck! 1. Make a folder in your datalab folder on your desktop and call it sanitation. 2. Open up an RScript and name it sanitation.R and save it into your sanitation folder. 3. In your RScript copy the following questions 4-7 and answer them as a team. 4. Look up improved vs. unimproved sanitation. What kind of sanitation does the US use, improved, unimproved or both? 5. What is open defecation? Is it a type of improved or unimproved sanitation? 6. Is open defecation bad or good? Why or why not? 7. Why do some countries have high rates of open defecation and others do not? 8. Now that you know a bit about sanitation, let’s start looking at some data. Download the dataset shared with you on slack (sanitation.csv) and save it to your sanitation folder. 9. STOP! WE WILL DO THIS TOGETHER! In your sanitation.R script underneath your questions, copy and paste the following line of code and inside the quotes hit tab. Then follow your files until you are in your sanitation folder which is inside your datalab folder on your desktop. If it is not there, go back and re-do questions 1 and 2 above (don’t forget to comment your script!): # set working directory setwd(&quot;&quot;) 10. Write code to load the tidyverse. 11. Now load sanitation.csv into R and assign it a name using the following line of code: # load in the data sanitation &lt;- read_csv(&#39;sanitation.csv&#39;) 12. What are the column names and based on these column names what is this dataset about? 13. Make a table of the World Bank’s income classifications. STOP! WE WILL DO THE NEXT FEW QUESTIONS TOGETHER! 14. Since working with really long column names with spaces is really hard, let’s change the column names together. 15. Let’s look at data for the most recent year. 16. To make it easier to explore the most recent data, let’s name this dataset latest. 17. Using latest, how many countries are there? 18. How many countries are there from each continent? 19. How many countries are there from each income group? 20. Let’s look at data for the low-income countries in Asia. How have their open defecation rates changed over time? Let’s talk through this together before writing any code! RESUME WORKING WITH YOUR GROUP NOW! 21. Make a line graph of safely managed sanitation services over the years in India. 22. Make a line graph of open defecation rates over the years for the country of your choice. 23. Using latest, make a scatterplot showing GDP per capita versus open defecation rates. Color the points by income group and give your plot good labels. 24. Now create separate panels showing the same scatterplots by continent. 25. To make these scatterplots nicer, let’s move the legends and reorder the income groups. We’ll do this one together! 26. To learn another new thing, let’s make a bar chart of sanitation services for South America. Then improve it by filling by income group. 27. Now make a bar chart of sanitation services for the continent of your choice. Remember to fill by income group! 28. Using latest, make a scatterplot showing rural versus urban open defecation rates. Color the points in an informative way and give your plot good labels. 29. Put the sanitation data for the first year in sanitation in an object called oldest. 30. Recreate the visuals above using oldest and compare the results to what you got with latest. What’s changed? What hasn’t changed? "],["making-maps.html", "Module 8 Making maps Exploring features with osmdata Exploring census tracts with tidycensus", " Module 8 Making maps Maps are great for exploring geographic data, like the prevalences of diseases in different countries or the demographics of voting districts in different states. In addition to being efficient data visualizations, well-made maps are beautiful! 1. Open a new R script and name it maps.R 2. Install the following libraries: sf, rnaturalearth, rnaturalearthhires, rnaturalearthdata, tmap, osmdata, and tidycensus 3. Now that you’ve installed these libraries, write code to load them along with dplyr. 4. The first thing you have to do to make a map is to get the underlying geospatial data – we’ll use the rnaturalearth packages to streamline this step, which can sometimes be quite challenging! Since you met people from KEMRI this morning, let’s start by getting the data we need for a map of Kenya: kenya &lt;- ne_countries( country = &quot;Kenya&quot;, returnclass = &quot;sf&quot; ) 5. Look at the data in the kenya object to get a feel for what’s there. How many columns are there? What are their names? 6. For right now, the most important column is the one called geometry. Let’s look at it: kenya$geometry 7. This tells us what kind of geospatial data we’ve got: a polygon. This also tells us how to make our map! tm_shape( kenya ) + tm_polygons() 8. Great! That’s Kenya. Not a very exciting map, though – let’s make it better and more interactive: # get a good background : tmap_options( basemaps = providers$OpenStreetMap ) # make the map interactive : tmap_mode( &quot;view&quot; ) # make a map of Kenya with a nice transparency setting : tm_shape( kenya ) + tm_polygons( alpha = 0.5 ) 9. Time to try something new: with your partner, get the data you need and make a map of Mozambique. 10. Countries are not just monoliths – they have constituent states or districts. Let’s get a more detailed map of Kenya: kenya_states &lt;- ne_states( country = &quot;Kenya&quot;, returnclass = &quot;sf&quot; ) tm_shape( kenya_states ) + tm_polygons( alpha = 0.5 ) 11. Wouldn’t it be nice if we could see the names of the states easily? Great idea! tm_shape( kenya_states ) + tm_polygons( alpha = 0.5, id = &quot;name&quot; ) 12. Update your map of Mozambique to show its districts with their names. 13. What if you want to make a map of all of Africa? That’s easy, too, once you have the right geospatial data. Let’s start big: world &lt;- ne_countries( scale = &quot;medium&quot;, returnclass = &quot;sf&quot; ) tm_shape( world ) + tm_polygons( alpha = 0.5 ) 14. Explore the names of the columns in world. How can we get the countries in Africa? Use your dplyr skills! 15. Make a map of South America, with country names shown when you mouse over them. 16. Now for a challenge: let’s make a map of South America showing all of the countries’ constituent states/districts. Exploring features with osmdata Exploring census tracts with tidycensus "],["making-choropleths.html", "Module 9 Making choropleths", " Module 9 Making choropleths Now that you know how to make some basic maps, let’s learn how to add information to them. Open a new R script, name it choropleths.R, and save it to your DataLab folder. 1. At the top of choropleths.R, load the libraries we used to make our first maps. Also, load the library readr so we can read CSVs as needed. library(dplyr) library(readr) library(sf) library(rnaturalearth) library(rnaturalearthhires) library(rnaturalearthdata) library(tmap) 2. For starters, let’s use data from the spData package to make a U.S. map. First, get the data: us_states &lt;- spData::us_states 3. Use tmap to make a map with this data. 4. Explore the data a bit – what other information could we show on our map? Let’s do it! Maps like these, with regions colored according to some data, are called choropleths. Making one usually involves three steps: get the geospatial dataset you need, get the dataset with the other data you want to show, and add the other data to the geospatial dataset. We’ll go through these steps together once, then you and your partner will go through them with some new data to make your own choropleth. 5. Create an object called world that has polygons for all of the world’s countries. (Review what we did before!) 6. Remove Antarctica from world – this will make our map look nicer later. 7. Make a map of the world (excluding Antarctica). 8. Using the pop_est variable in world, update your world map and color the countries according to their populations. If the legend is in the way, move it! 9. Download data on outdoor air pollution from Our World in Data. Save the data in the file pollution.csv in your DataLab folder. 10. Use readr::read_csv() to load your pollution data. 11. Use the dplyr function rename() to rename ONLY the last column in pollution. Let’s make the new name “share_of_deaths”. 12. Compare the variables in pollution with the variables in world to figure out how to join them. We’ll go through this together. 13. Make a new world map and color the countries according to their share of deaths attributed to pollution. "],["working-with-dates-and-times.html", "Module 10 Working with dates and times Getting to work Getting familar with dates The datetime class Common tasks Dates, Times, and Malaria Coughs", " Module 10 Working with dates and times “Today is a day. Tomorrow is another day. And right now is a moment in time that has changed to another moment in time, from one second to the next.” - Anonymous Learning goals Be able to read dates, and convert objects to dates Be able to convert dates, extract useful information, and modify them Use date times Gain familiarity with the lubridate package Hadley Wickham’s tutorial on dates starts with 3 simple questions and some useful observations: Does every year have 365 days? Does every day have 24 hours? Does every minute have 60 seconds? I’m sure you know that not every year has 365 days, but do you know the full rule for determining if a year is a leap year? (It has three parts.) You might have remembered that many parts of the world use daylight savings time (DST), so that some days have 23 hours, and others have 25. You might not have known that some minutes have 61 seconds because every now and then leap seconds are added because the Earth’s rotation is gradually slowing down. Dates and times are hard because they have to reconcile two physical phenomena (the rotation of the Earth and its orbit around the sun) with a whole raft of geopolitical phenomena including months, time zones, and DST. This chapter won’t teach you every last detail about dates and times, but it will give you a solid grounding of practical skills that will help you with common data analysis challenges. Getting to work First, open an RScript, name it dates and times.R and set your working directory. Install the lubridate package and load the library. install.packages(&#39;lubridate&#39;) library(lubridate) library(dplyr) Getting familar with dates Get today’s date using: today() Then make today into an object called today. Even though today looks like a simple character string, it is not. There are all sorts of date-time calculations in the background. To demonstrate this, let’s bring in a simple string. Make variables called my_bday and my_partners_bday using the following format (but adjust to match your actual birthdays!): my_birthday &lt;- &#39;2003-06-09&#39; my_partners_bday &lt;- &#39;2004-02-18&#39; If you run str(my_birthday) and str(today), do you see any major differences? (talk amongst your group) Note that class type of the variable impacts what you can do with the text. For instance, the following causes an error… today - my_birthday Try re-running the calculation above after running the following line of code: my_birthday &lt;- as_date(my_birthday) Why did it work? Now convert my_partners_bday to the right class, then calculate the time between your birthdays. The datetime class When you are working with a datetime object, you can add and subtract time to it. Let’s make a variable that has the time as of right now and then look at it: n &lt;- now() n This is how you can add or subtract seconds to now: n + seconds(1) Add or subtract hours: n - hours(5) Want to only see the date of now? Try this: as_date(n) Look at how time flies when you’re having fun: later &lt;- now() later Calculate how long it took you from when you created now until you created the variable later. Common tasks Converting words (strings) to dates The lubridate package was built to handle dates of various input formats. The following functions convert a character with a particular format into a standard datetime object: ymd(&quot;2017-01-31&quot;) This also works if the single-digit dates are not padded with a 0: ymd(&quot;2017-1-31&quot;) Other formats can also be handled. Try to find a way to make the following into date formats: &quot;2017-31-01&quot; &quot;January 31st, 2017&quot; &quot;31-Jan-2017&quot; Hint: try re-organising the letters from ymd which stands for “year month day”. Extracting components from dates Let’s practice extracting information from the following datetime object: datetime &lt;- ymd_hms(&quot;2016-07-08 12:34:56&quot;) year(datetime) Get the month: month(datetime) Get the day of the month: mday(datetime) Get the day of the year: yday(datetime) Get the day of the week: wday(datetime) Get the name of the day of the week: weekdays(datetime) Get the hour of the day: hour(datetime) Get the minute of the hour: minute(datetime) Get the seconds of the minute: second(datetime) Dealing with time zones When working with dates and times in R, time zones can be a major pain, but the lubridate package tries to simplify this. Adjust timezones for dates: # Today&#39;s date where I am today() # Today&#39;s date in New Zealand today( tzone = &#39;NZ&#39; ) Adjust time zones for date-times: # Time where I am now() # Time in UTC / GMT (which are synonymous) now(&#39;UTC&#39;) now(&#39;GMT&#39;) Don’t know what time zone your computer is working in? Use this function: Sys.timezone() To get a list of time zones accepted in R, use the function OlsonNames (there are about 500 options): OlsonNames() %&gt;% head(50) If you ever need to force the timezone of a datetime object to change without actually changing the date or time, use the function force_tz(): # Get current time in UTC/GMT n &lt;- now(&#39;UTC&#39;) n # Change timezone to Central Standard Time without changing time: force_tz(n, tzone=&#39;America/Chicago&#39;) Using timestamps instead One way to avoid timezone issues is to convert a datetime object to a numeric timestamp. Timestamps record the number of seconds that have passed since midnight GMT on January 1, 1970. It doesn’t matter which timezone you are standing in the seconds that have passed since that moment will be the same: # Time where I am now() %&gt;% as.numeric() What is the difference between the line of code above and now()? Timestamps can simplify things when you are doing a lot of adding and subtracting with time. Timestamps are just seconds; they are just numbers. So they are much less of a black box than datetimeobjects. You can always convert from a timestamp back into a datetimeobject: # Convert to timestamp ts &lt;- now() %&gt;% as.numeric() ts # Convert back to datetime object ts %&gt;% as_datetime() Exercises Create datetime objects Use the appropriate lubridate function to parse each of the following dates (aka make each of the following strings into dates): 1. January 1, 2010 2. 2015-Mar-07 3. 06-Jun-2017 4. c('August 19 (2015)', 'July 1 (2015)') 5. 12/30/14 Extracting datetime components Work with this date: dt &lt;- &#39;2000-01-04 03:43:01&#39; 6. Make a variable with the following name with the corresponding information using the date above: raw (containing the original string) year month dom(day of month) doy (day of year) hour minutes seconds 7. Now calculate two more variables: timestamp diff(the difference, in days, between this time and midnight GMT on January 1, 1970) Some common uses of datetime 8. Write code to say what time it is in the timezone that you were born in. 9. Calculate your age using your birthday and today’s date in years. In days! In seconds!! 10. How many seconds have occurred since the Armistice Day? Dates, Times, and Malaria Learning goals This is a review exercise. You’ll be using the skills you’ve developed with the ´dplyr´, ´ggplot2´, and lubridate packages. 1. Start a new script. Name it malaria.R. 2. Set up your work space by loading the readr, ggplot2, dplyr, and lubridate packages. 3. Read in some malaria data by running the following: pms &lt;- read_csv(&#39;https://github.com/databrew/intro-to-data-science/blob/main/data/pms.csv?raw=true&#39;) 4. Take a look at the first few rows of the data. What is the unit of observation? 5. Create a new column/variable in pms named dow (as in, “day of week”). This should be the day of the week of the date_visit. 6. How many visits were there to Catale on May 1 2022? 7. How many of those were for malaria? 8. Which age group has had the most malaria? 9. What day of the week has the most visits? 10. Which month has had the most malaria visits? 11. Which month has had the greatest percentage malaria visits? 12. Make a variable called hour of day? 13. Which hour of day has the most visits? 14. What do you think the function mdy_hms is/does? 15. Look up the documentation for mdy_hms. 16. Use mdy_hms to create a new variable in pms named date_time based on the variable start_time. 17. Use the hour function to create a variable named hour_of_day from the date_time variable. This should be the hour of the day. 18. Get the total number of malaria cases diagnoses by hour of day. 19. Visualize the total number of malaria cases diagnoses by hour of day. 20. Visualize the total number of malaria cases diagnoses by hour of day, but separated by day. Coughs As you can see there are SO many ways you can work with dates and times. One final example which you may not have thought of is… coughs! First, download some data: coughs &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/coughs.csv&#39;) 1. Create a dow (day of week) column. 2. Create a date (without time) column. 3. How many coughs happened each day? 4. Create a chart of coughs by day. 5. Look up the function floor_date. Use it to get the number of coughs by date-hour. 6. Create an hour variable. 7. Use the hour variable to create a night_day column indicating whether the cough was occurring at night or day. 8. Does this child cough more at night or day? Once you’re done be sure to ask Matthew, ‘what is Hyfe?’ "],["working-with-text.html", "Module 11 Working with text Most common tools Exercises Sentiment analysis with Harry Potter Shakespeare text mining Trump tweets", " Module 11 Working with text Learning goal Time to learn how to apply the most common R tools for working with text: strings, words, sentences, and so on! If you don’t learn how to edit and transform text-based fields within datasets, you’ll quickly get stuck in R. Think of dates, GPS coordinates, user IDs, group names, plot labels, etc. All of these forms of data can contain non-numeric text. Becoming comfortable working with text in R is an absolutely essential part of your R toolkit. Here we will present the most common functions for working with text. Remember that R has a special object class for text, known as the character class, and that character objects are often referred to as strings. Most of these functions come pre-installed in R. However, several of the tools we will show here (as well as many other useful tools that we will not detail here) come from the stringr package. Go ahead and install stringr and load it using library(). install.packages(&quot;stringr&quot;) library(stringr) Most common tools paste() &amp; paste0() paste() and paste0() combine two or more strings together into a single object: i &lt;- 10 n &lt;- 96 file_name &lt;- &quot;this_file.csv&quot; paste(i,&quot;of&quot;,n,&quot;: Processing&quot;,file_name,&quot;. . . &quot;) Notice that paste() separates terms with a blank space; you’ll see in a moment that paste0() does not separate terms. Here’s the same input but with paste0() instead: paste0(i,&quot;of&quot;,n,&quot;: Processing&quot;,file_name,&quot;. . . &quot;) To replicate the original output with paste(), you manually add blank spaces like this: paste0(i,&quot; of &quot;,n,&quot;: Processing &quot;,file_name,&quot; . . . &quot;) You can also use paste() to collapse multiple objects into a single string. x &lt;- 1:10 paste(x,collapse=&quot;;&quot;) Make an object called ages that has the ages of everyone in your group, then use paste and collapse to list these ages. tolower() &amp; toupper() tolower() and toupper() force all text in a string to lower case or upper case, respectively. Run the following: x &lt;- &quot;That Tree Is Far Away.&quot; tolower(x) toupper(x) What happens if you change x to \"That Tree Is 5 Meters Away.\" Does it still work? nchar() nchar() returns the number of characters within a string. How many characters are in x? nchar(x) substr() substr() trims a string according to a start and end character position. Run the following: dates &lt;- c(&quot;2021-03-01&quot;, &quot;2021-03-02&quot;, &quot;2021-03-03&quot;) substr(dates,1,4) # years substr(dates,6,7) # months substr(dates,9,10) # days What do the numbers in substr correspond to in the dates list? grep() grep() returns the elements in a character vector that contain a given pattern. Run the following: years &lt;- 1900:1999 # Which elements correspond to the 1980s? eighties &lt;- grep(&quot;198&quot;,years) eighties years[eighties] grepl() grepl() tells you which elements in a character vector contain a given pattern. Run the following: some_names &lt;- c(&quot;Bob&quot;, &quot;Boba Fett&quot;, &quot;Leia&quot;, &quot;Robert&quot;, &quot;Yoda&quot;, &quot;Batman&quot;, &quot;Not Bob&quot;, &quot;Robin&quot;, &quot;Catwoman&quot;, &quot;Bobtown&quot;, &quot;Zinnia&quot;) # Which names contain &quot;Bob&quot;? bobs &lt;- grepl( pattern = &quot;Bob&quot;, x=some_names, fixed = TRUE) bobs some_names[bobs] Look for other patterns, like “ob”, “man”, etc. Be creative! Baller move for future reference: use grepl inside filter to find what you want! gsub() gsub() replaces a given pattern with another in a character vector. Run the following: dates &lt;- c(&quot;2021-03-01&quot;,&quot;2021-03-02&quot;,&quot;2021-03-03&quot;) gsub(&quot;-&quot;,&quot;/&quot;,dates) Instead of /, put . between the year, month, day. str_pad() stringr::str_pad(): standardize the lengths of strings by “padding” it (e.g., with zeroes). Run the following: days &lt;- as.character(1:15) days stringr::str_pad(days,width=2,side=&quot;left&quot;,pad=&quot;0&quot;) What happens if you change side to “right”? str_split() stringr::str_split(): split a string into several strings at the occurrence of a specified character. dates &lt;- c(&quot;2021-03-01&quot;,&quot;2021-03-02&quot;,&quot;2021-03-03&quot;) splits &lt;- stringr::str_split(dates,&quot;-&quot;) splits This function returns a list for every element in the original vector. A common need is to retrieve one item from each of the elements in this list. For example, let’s say you are trying to retrieve the months of each element in the dates vector. The list structure makes this tricky to retrieve. Here’s the way to do it by drawing upon the apply() family of functions: sapply(splits, &quot;[[&quot;, 1) # years sapply(splits, &quot;[[&quot;, 2) # Months sapply(splits, &quot;[[&quot;, 3) # days as.character() as.character(): converts a non-character object into a character string. x &lt;- c(1,2,3) as.character(x) x &lt;- as.factor(c(&quot;group1&quot;,&quot;group2&quot;,&quot;group3&quot;)) as.character(x) This can be particularly useful when trying to resolve problems caused by factors. One common issue occurs when R mistakes a set of numbers as a set of factors. Using as.character() can set things right: x &lt;- as.factor(c(18,19,20)) x If you try to convert straight to numeric, it does not work: as.numeric(x) So convert to character first: as.numeric(as.character(x)) Exercises To practice these tools, we will play with the results of a past DataLab survey. Read the survey into R as follows: library(dplyr) library(gsheet) survey &lt;- gsheet2tbl(&#39;https://docs.google.com/spreadsheets/d/1iVt9FX9J2iv3QFKBM7Gzb9dgva70XrW1lxMV4hpekeo/edit?resourcekey#gid=204634767&#39;) To make this spreadsheet easier to work with, let’s rename the columns. Currently, the columns are: names(survey) Rename them like so: names(survey) &lt;- c(&#39;time&#39;, &#39;sex&#39;, &#39;age&#39;,&#39;sib&#39;, &#39;dad_mus&#39;, &#39;person_mus&#39;, &#39;joe_mus_is&#39;, &#39;eyesight&#39;, &#39;height&#39;, &#39;shoe_size&#39;, &#39;bday&#39;, &#39;money_or_love&#39;, &#39;rps_skill&#39;, &#39;num_pan&#39;, &#39;cats_dogs&#39;, &#39;first_name&#39;, &#39;last_name&#39;) 1. Create a new column named full_name that combines the first and last name of each respondent. 2. Simplify the sex column so that m (lowercase) stands for males, f (lowercase) stands for females, and p (lowercase) stands for ‘Prefer not to say’. 3. Modify the column money_or_love such that the first letter is always capitalized. 4. How many characters is each response in the column eyesight? 5. How many responses in the column eyesight have 30 characters or more? 6. Modify the column money_or_love such that all responses are twenty characters or less. 7. Remove the ‘s’ from the responses in the column cats_dogs. 8. In the column joe_mus_is, replace ‘Deeply captivating’ with just ‘captivating.’ 9. How many respondents have the last name ‘Brew’? 10. How many respondents were born in May? 11. Filter the survey only to respondents born in 2000. 12. Replace “both” in the money_or_love variable with “Money &amp; Love”. 13. Get only the first character dad_mus variable. 14. How many total characters are in the column eyesight? 15. How many characters did Joe Brew write for the eyesight question? 16. How many people in the data were born on the 4th day of the month? 17. Create a new variable called month_born that has only the month of from the bday variable. 18. Do the same thing for year. 19. Filter the data set by those born in 2001 and prefer money over love. Sentiment analysis with Harry Potter 1. Start a new R file Name it harry.R. 2. Set up your work space by loading the ggplot2, dplyr, tidytext, gsheet, wordcloud2, sentimentr, and lubridate packages. 3. Read in your Harry Potter data by running the following: hp &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/harrypotter.csv&#39;) 4. Take a peek at the first few rows of the data. What is the unit of observation? 5. Make all of the text column be lower case. 6. Make all of the text column be upper case. 7. Use unnest_tokens to create a dataframe with one row per word. 8. Create a variable named word_length with the number of characters in each word. 9. Make a histogram of word length. 10. Make a density chart of word length. 11. Make the density chart of word length have a different fill for each chapter. 12. Get the average word length per chapter. 13. Plot the average word length per chapter. 14. What is the longest word used in Harry Potter? 15. What is the most frequent word used in Harry Potter? 16. Get the number of words per chapter. 17. Plot the number of words per chapter. 18. What’s the longest chapter in Harry Potter? 19. Run the below to create an object named sw. sw &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/stopwords.csv&#39;) 20. Remove the stop words form your one-row-per-word dataframe. 21. What is the most frequently used (non-stop) word in Harry Potter? 22. Create an object called sentiments by running the following: sentiments &lt;- get_sentiments(&#39;afinn&#39;) 23. Use left_join to bring a sentiment classification to each word. 24. Is Harry Potter more negative or positive? 25. Calculate the average sentimentality per chapter. 26. Plot the average sentimentality per chapter. 27. Create a variable called cumulative_sentiment. Use cumsum to get the cumulative sum sentimentality. 28. Plot cumulative sentiment. 29. Color your plot by chapter. Shakespeare text mining Learning goals This is a review exercise: apply the skills introduced in the previous modules by text mining the works of Shakespeare. library(dplyr) library(readr) shake &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/Shakespeare_data.csv&#39;) All good? Great. Let’s go. 1. How may rows are in the data? 2. Create a dataframe named spoken. This should be those lines which are spoken by an actor/actress (figure it out). 3. How many lines are spoken? 4. Create a column called first_word. This should be the first word of each spoken line. 5. What is the most common first word spoken? 6. Create a boolean column named “King”. This should indicate whether or not the word “King” was spoken in any given line. 7. Improve the above by making sure that it includes both lower and uppercase variations of “king”. 8. Figure out which play has the word “king” mentioned most? 9. What percentage of lines in Hamlet mention the word “king? 10. How many times does the word “woman” appear in each play? 11. How many words are there in all Shakespeare plays? 12. How many letters are there in each Shakespeare play? 13. Which character says the most words? 14. Which character says the least words? 15. What is the lines(s) of the character who says the least words? 16. Make a table of plays with one row per play and variables being: (a) number of lines, (b) number of words, (c) number of characters, (d) number of letters, (e) number of mentions of “Brew”. Trump tweets Learning goals This is a review exercise: apply the dplyr and ggplot skills introduced in the previous modules and the Deep R modules on Working with Dates and Times and Working with Text to doing some text mining of former-President Trump’s tweets. Let’s run the below to get started. library(dplyr) library(readr) library(tidytext) trump &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/trumptweets.csv&#39;) stop_words &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/stopwords.csv&#39;) 1. In the current format, one row of data is equal to one ? 2. Create a variable called line. This should be 1, 2, 3, 4, etc. 3. Create a variable called text. This should be an exact copy of content. 4. Use the unnest_tokens function to reshape the data for better text processing. simple &lt;- trump %&gt;% select(-mentions, -hashtags, -geo, -content, -link, -id) %&gt;% unnest_tokens(word, text) 5. What format is the data in now (ie, one row is equal to )? 6. Take a minute to read about the tidytext package at https://www.tidytextmining.com/tidytext.html. 7. What is the most common word used by Trump? 8. Use substr to create a year variable. 9. What is the most common word used by Trump each year? 10. Create a variable named month using substr. 11. What is the most common word used by Trump each month? 12. Create a dataframe with one word per row, and a column called freq saying how many times that word was used. 13. Load up the wordcloud library. 14. Subset the dataframe created in number 12 to only include the top 100 words. 15. Create a wordcloud of Trump’s top 100 words. 16. Are you ready to do some sentiment analysis? Great. 17. Create a dataframe named sentiments by running the following: sentiments &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/sentiments.csv&#39;) 18. What is the sentiments dataset? 19. Create another dataset named polarity by running the following: polarity &lt;- get_sentiments(\"afinn\") 20. Use left_join to combine polarity and sentiments into one dataset named emotions. emotions &lt;- left_join(sentiments, polarity) %&gt;% filter(!duplicated(word)) 21. Use left_join to combine the trump data and the emotions data. simple &lt;- left_join(simple, emotions) 22. Have a look at the simple (Trump) data. What do you see? 23. Get an overall polarity score (using the value variable) for the entire dataset. Is it positive or negative? 24. How many words were emotionally associated with “anger” in 2015? 25. What percentage of words were associated with “fear” by year? 26. What is the average sentiment polarity by year? 27. What is Trump’s most positive tweet? 28. What month was Trump’s most negative month? 29. What percentage of Trump tweets have more sadness than joy by year/month? 30. Read in data on full moons by running the following: moon &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/full-moon.csv&#39;) 31. Create a date column with a correctly formatted date. 32. What day of the week has the most full moons? 33. Use left_join to bring the moon data into the Trump data. 34. Does Trump have more negative emotions on full moon days? 35. Read in “stop words” by running the following: sw &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/stopwords.csv&#39;) 36. Join the sw data to the simple data, and remove the stop words. 37. Create a new word cloud. 38. Do a new analysis of sentimentality. "],["getting-started-with-rmarkdown.html", "Module 12 Getting started with RMarkdown What is RMarkdown? Why? What can you do with RMarkdown? Raw RMarkdown example Exercises Make a Markdown CV", " Module 12 Getting started with RMarkdown Learning goals How to document your projects with RMarkdown and why doing so is so important. This is a meta-tutorial for using RMarkdown, a “syntax” for writing beautiful reports with simple text files. This tutorial, which was written in RMarkdown, has been provided twice: first, as its formatted ‘book-ready’ form, and second as the raw text file used to write it. What is RMarkdown? RMarkdown lets you write documents formatted with fancy HTML (the main language used to create websites) without having to know how to write HTML code. Instead, you just need to know how to use a few common symbols. Why? RMarkdown was created because most data scientists used to document their code and data projects with simple text files (.txt). Text files are designed to be simple, so they have no special formatting: no nice fonts, no headings, no bold, no italics, no bullet lists. And, as a result of their simplicity, text files are (1) boring and (2) difficult to organize. RMarkdown is the perfect solution: it translates a simple text file into a beautifully formatted report. Recall that, in order for your research to be truly reproducible, you have to document your work thoroughly. Doing so requires two things: First, that you provide a detailed description of your work in a simple text file, and second, that your documentation be well-organized and enjoyably legible. Think about it: if your documentation is incomplete, impossible to navigate, and difficult to read, can you really say that your project is reproducible? What can you do with RMarkdown? First of all, RMarkdown… Lets you organize your report into sections and subsections. Lets you italicize and emphasize certain sections of your work. Lets you distinguish between normal text and code or filenames. Lets you write large chunks of code, like the one below. # This is a large chunk of code. x &lt;- 1:10 y &lt;- 15:20 z &lt;- x + y Also, RMarkdown … Lets you weave together your documentation with R code that actually runs (this is called RMarkdown, which is covered in the next module), opening up possibilities for automatic reporting and truly reproducible research publications. Lets you produce publication-ready articles and books, since there is a world of open-source formatting templates available to you. Lets you add hyperlinks. Lets you type HTML code directly into the same document, if you want to. Lets you include images, like the one below. Common RMarkdown mistakes When you try to make a section heading (e.g., ## New section), you forget to put a space between the hashtags and the name of the section. When you try to begin a new paragraph, you don’t add two spaces at the end of your sentence. (Without those two spaces, RMarkdown will assume you are still working in the same paragraph.) The same thing happens often when making a list. Without two spaces at the end of each item, the items might not get placed on new lines. When you try to begin a new paragraph, you don’t add an empty line between your paragraphs. Raw RMarkdown example Below we provide the raw textfile we used to write the section above. # `Markdown` documentation #### Learning goals {-} - How to document your projects with `Markdown`, and why doing so is so important. &amp;nbsp; This is a **meta-tutorial** for using `Markdown`, a &quot;syntax&quot; for writing *beautiful* reports with simple text files. This tutorial, which was written in `Markdown`, has been provided twice: first, as its formatted &#39;book-ready&#39; form, and second as the raw text file used to write it. ## What is `Markdown`? {-} `Markdown` lets you write documents formatted with fancy `HTML` (the main language used to create websites) without having to know how to write `HTML` code. Instead, you just need to know how to use a few common symbols. ### Why? {-} `Markdown` was created because most data scientists used to document their code and data projects with simple text files (`.txt`). Text files are designed to be simple, so they have no special formatting: no nice fonts, no headings, no bold, no italics, no bullet lists. And, as a result of their simplicity, text files are (1) *boring* and (2) *difficult to organize*. `Markdown` is the perfect solution: it translates a simple text file into a beautifully formatted report. Recall that, in order for your research to be truly reproducible, you have to **document your work thoroughly**. Doing so requires two things: First, that you provide a detailed description of your work in a simple text file, and second, that your documentation be *well-organized* and *enjoyably legible*. Think about it: if your documentation is incomplete, impossible to navigate, and difficult to read, can you really say that your project is reproducible? ### What can you do with `Markdown`? {-} First of all, `Markdown` ... 1. Lets you organize your report into sections and subsections. 2. Lets you *italicize* and **emphasize** certain sections of your work. 3. Lets you distinguish between normal text and `code` or `filenames`. 4. Lets you write large chunks of code, like the one below. Also, `Markdown` ... - Lets you weave together your documentation with `R` code that *actually runs* (this is called `RMarkdown`, which is covered in the next module), opening up possibilities for automatic reporting and truly reproducible research publications. - Lets you produce publication-ready articles and books, since there is a world of open-source formatting templates available to you. - Lets you add [hyperlinks](https://www.markdownguide.org/getting-started/). - Lets you type `HTML` code directly into the same document, &lt;font color=&#39;red&#39;&gt;&lt;b&gt;if you want to&lt;/b&gt;&lt;/font&gt;. - Lets you include images, like the one below. &lt;center&gt; ![](img/markdown-dogs.jpeg){width=50%} &lt;/center&gt; #### Common `Markdown` mistakes {-} - When you try to make a section heading (e.g., `## New section`), you forget to put a space between the hashtags and the name of the section. - When you try to begin a new paragraph, you don&#39;t add *two spaces* at the end of your sentence. (Without those two spaces, `Markdown` will assume you are still working in the same paragraph.) - The same thing happens often when making a list. Without *two spaces* at the end of each item, the items might not get placed on new lines. - When you try to begin a new paragraph, you don&#39;t add an empty line between your paragraphs. Exercises Open a new, blank RMarkdown document: 1. In RStudio, go to the top left dropbown menu for making a new file (look for the green plus sign.) 2. Select “R Markdown…” 3. Save this file as test.Rmd in your datalab folder. The prefix, .Rmd, specifies that this text file should be interpreted as a RMarkdown file. Once you save the file, you should see some new options appear, one of which is preview. 4. At the top of your test.Rmd file, write: # Title 5. Click the Knit button and see if a RMarkdown file is produced. Make your own RMarkdown: Use the RMarkdown example above, which you can compare to the formatted version at the top of this module, to figure out how to add the following elements to your document. Use the Knit button to test if your entries are doing what you want them to. 6. Write a silly sentence. 7. Make a word in that sentence italicized. 8. Make a word in that sentence boldface. 9. Add the first section to your document. Name it whatever you want. 10. Add a sentence in this new section, formatting one of its words as a piece of code. 11. Start a new paragraph and add another sentence. 12. Start a third paragraph and add vertical space between it and the previous paragraph. 13. Add a multi-line chunk of code. 14. Download a silly meme from the internet and add it to your document. (Hint: you will have to place that image file in the same folder as your Markdown file.) 15. Add another subsection to the subsection you are working in. Name it “Grocery List”. 16. Type out an enumerated grocery list. 17. Add another subsection, this time at the same hierarchichal level as the one you created in step 9. Name it “Bucket List”. 18. Create a bullet list of things you want to accomplish before you die. 19. Make one of your list items act as a link to another website. Make a Markdown CV It is increasingly common for data scientists to have a Markdown version of their CV posted as its own page. Check out these examples: Here Also here And here! Maintaining your CV this way can be very efficient. It is easy to format and easy to update. And, most importantly, rather than have various versions of your CV on your computer or in GoogleDrive, you can just share a link to your live, published CV. What better way to demonstrate your skillset in a reproducible, professional-quality research? Resources * https://www.markdownguide.org/basic-syntax/ * https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf "],["leveling-up-with-rmarkdown.html", "Module 13 Leveling up with RMarkdown OWID COVID-19 data, Part 1 OWID COVID-19 data, Part 2", " Module 13 Leveling up with RMarkdown It’s time to sharpen your RMarkdown skills while reviewing what you’ve learned so far. Let’s go! OWID COVID-19 data, Part 1 1. We’re going to work with the Our World in Data COVID-19 dataset, which is hosted on GitHub (more on that soon!). Go there and download the CSV to your DataLab folder. Also, download the codebook for convenient reference. 2. Before doing anything else, visit Our World in Data’s COVID-19 Data Explorer and explore some of their visualizations. Together, we’ll decide what to analyze and visualize – at the very least, we’ll create some summaries and a couple of maps. 3. Open a new RMarkdown file called covid.Rmd and save it in your DataLab folder. 4. Give your file a good title, add your name as author, and delete everything below the setup chunk that sets knitr options (i.e., everything after line 11). 5. knit your file. The output should just consist of your title, your name, and today’s date. 6. In the setup R chunk, edit the knitr options and turn off echo, message, and warning. 7. In the setup R chunk, add code to load the libraries tidyverse, sf, and tmap. Depending on what we choose to do, we might need to load some additional libraries. 8. In the setup chunk, add code to load both the dataset and the codebook that you downloaded in step 1. above. 9. knit your file again to make sure that everything is still working. Note how RStudio saves your RMarkdown file each time you knit it! 9. Add a section called Introduction where we will outline the analysis we’re going to do. A few bullet points will probably be useful here! 10. Let’s do our analysis, organizing our results into sections and subsections as we go. 11. Once we’re happy with the results (or we run out of time, whichever comes first), let’s create an RMarkdown presentation of our findings. OWID COVID-19 data, Part 2 With a partner, put together a new RMarkdown analysis using the Our World in Data COVID-19 dataset. Create both a report and a slide deck that you’ll present together. "],["git-github.html", "Module 14 Git + GitHub Why What is there to Git? GitHub set up Create a new repository Clone a repository Working in a repository Exercises Editing the .gitignore file Further resources", " Module 14 Git + GitHub Learning goals The importance of keeping your code somewhere How to install Git How to install GitHub How to use Git on your own How to use Git as a team Why Perhaps you are familiar with this… Or this… What is there to Git? Think of Git like Google Drive…but better. I assume that your Google Drive has tons of documents on it organised into folders. You most likely use Google Drive to save your documents, but sometimes you also edit those documents. If you wanted, you could go and look at a previous version of the document by tracking changes (a cool feature of Google). But what exactly am I gitting at? Git is very similar to Google Drive. You can track changes to your documents, organize documents, share documents, and review changes. However, instead of putting your Word documents or your powerpoints on Git (which you can do), us coders use Git to store our code. Let’s store the code that we have worked on so far on Git. GitHub set up Go to www.github.com and create a user account. Create a new repository Once you’ve created an account and logged in to GitHub, let’s create a repository. What is a repository? Basically, it’s a coding project in the form of a folder. Having logged into git, click the “plus” icon in the upper right and then click “New repository” (or go directly here). You can fill in the “Repository name” field with whatever you’d like. For the following examples, we’ll use the word “testrepo”. Fill in the “Description” field with the word “My first git repository”. Set the repo as “Public” (unless you plan on putting any secrets here!), and then click the “Add a README file” checkbox. Finally, click “Create repository”. Cool! You’ve now created your first git repository. It’s public url is https://github.com/&lt;YOUR USERNAME&gt;/&lt;repo-name&gt;. Others can see your code there, and you can too. Clone a repository Your new repo exists on the internet, but does not yet exist on your local machine. In order to get “testrepo” on your computer, you’ll need to do something that you’ll only do once: “clone” the repo. “Cloning” in git-speak means creating a copy of the repository locally. To clone, you’ll first open Rstudio. Now, what we are going to do is put the folder that we made online on GitHuband put this same folder onto our machine. Click File in RStudio and click New Project.... Click the Version Control option. Side note: the word Version Control comes from the term Version Control systems (VCS), which are software tools meant to help programmers, like you, collaborate, maintain original code, document changes, and keeping track of files. For example, Git is one of the most populatar version control systems. Click the Git option. There? Good. Now in this section, Clone Git Repository, RStudio is asking you for a few things: The first thing it is asking you for is the Repository URL. The Repository URL is the link to the repository you just created on GitHub. The link most likely looks like this: https://github.com/&lt;USERNAME&gt;/&lt;repo-name&gt;. An easier way than just editing this link I gave you is by going back to GitHub online and copying the URL at the top of the page, OR do you see the green button that says &lt;&gt; Code? Click the button and you can copy the web URL or HTTPS link that is staring you in the face. Paste that link in the Repository URL space in RStudio. Next, RStudio asks you for the Project directory name. This should be automatically filled when you paste the Repository URL link and will match the name of your repository on GitHub (e.g. testrepo). Finally, RStudio needs to know where you want this project to be made or where you want this folder to be kept on your laptop. Since this is your first testrun and you are a part of DataLab, let’s save this in your name_datalab folder on your laptop. So where it says Create project as subdirectory of: click Browse and find your name_datalab folder on your DeskTop and choose that location. Click Create Project and watch the magic happen. Now, youve got a folder on your machine namedtestrepo. You can confirm that by looking in yourname_datalabfolder and looking fortestrepo`. See testrepo there? Great! Working in a repository Change some code on your computer In your local testrepo folder, you have a “cloned” copy of the repository at https://github.com//testrepo. As of now, testrepo is a pretty uninteresting folder. The only thing in it is a file named README.md. A “README” file is generally an explanation of a repository’s content, purpose, etc. Like all files, a README can be tracked in git. By tracked I mean we can make edits to the file and save them in GitHub and look back at previous edits. Rather than me explaining, let’s just do it. Let’s open the README file and make a change to it. We’ll add the below line of “code”: This is my first git repository. Then save and close the README file. Send the changes on your computer to GitHub Even though we have made edits to our README.md file on our laptop, GitHub has no idea that we made these changes. So how do we reflect the changes on our laptop online? If you look at the upper right corner of RStudio where your environment is, you will also see a Git button. Click it. This tab is where RStudio and GitHub can interact with each other. In this Git tab, you might notice that you have some items there. If you hover over the yellow question mark, you will see the message Untracked. This untracked message is the computer telling you that you have made changes on the computer that are not online. So, let’s get the change we made on our laptop onto the internet. To get our new edits onto the internet there are two main things we have to do: 1. add our changes 2. commit our changes 3. push our changes Again, let’s learn by doing rather than by reading. Add your changes In the Git tab, click the white piece of paper with a check mark. In this pop-up you will see all of the documents that you edited today. You will see the README.md file which we just wrote on, the testrepo.Rproj that we created, and maybe a .gitignore file which for now we can just ignore like the title says. Of the edits that we made, we want to choose which edits we add to GitHub. Let’s add all of these edits that have been made today to GitHub. To do this you can click the empty square next to the document to make it blue OR you can click the button next to stage at the top of the pop-up. Commit your changes Have you ever heard of the expression commit something to memory? Well, this is what we are going to do with these files we just chose or staged. On the right-hand side of the pop-up you will see a box which at the top says Commit message. In here, type: my first change This tells Git that we are “committing” our change, it marking a checkpoint (to which we can revert later). Almost there. Now that weve added and committed, we need to \"push\" our change toGitHub`. Push the changes in your local repo to GitHub Click the green upper arrow that says Push. You did it! You did it! Go to https://github.com//testrepo and open the README.md file. You’ll notice that your most recent changes are there. Now, if someone else wants to get your code, they can “clone” your repository, and they’ll have the code you’ve “pushed” there. Exercises Create another repo: Let’s face it: testrepo is a pretty lame name for a repository. How about we make a repo that’s actually real and useful? We’ll make one for storing all the code we’re writing in this course. 1) Go to https://github.com/ 2) Click the “plus” icon in the upper right and then click “New repository” (or go directly here). 3) Now, for “Repository name”, write “datalab_2024”. 4) Fill in the “Description” field with the words “Code I wrote during my intro to data science course”. 5) Set the repo as “Public” (unless you plan on putting any secrets here!), and then click the “Add a README file” checkbox. Finally, click “Create repository”. 6) Clone the repo to your computer (name_datalab folder). 7) Create a new R script in your datalab_2024 repository called babynames.R. 8) Load library(babynames) (don’t forget to comment your RScript!). 9) Make an object called bb_names by running bb_names &lt;- babynames. 10) Create a line plot showing the popularity of the name Marie over time. 11) Create a line plot for proportion of the name Joe, colored by sex. Make the lines a bit thicker and more transparent. 12) Add new x and y axis labels, as well as a chart title. 13) Create a bar chart of the 10 most popular female names in 2002. 14) Make the bars transparent and filled with the color blue. 15) Create a new data set called the_nineties that only contains years from the 1990s. 16) Save this dataset to your repository (use write_csv()). 17) Add, commit, and push your files to GitHub. Check GitHub and make sure that your code successfully pushed. 18) In RStudio pull from GitHub. Is it already up to date? 19) Now that everything is up to date, make a visualisation of you and your team member’s names for a year of your choice. 20) Make a visual that looks at your name over time. What happens if you color by sex? 21) Don’t forget to stage/add, commit, and push your hardwork to GitHub! Editing the .gitignore file If you look in your local datalab repo on your laptop, and you might see that there are a lot of documents there! You’re going to want to (i) add, (ii) commit, and (iii) push these documents, but perhaps there are some kinds of documents you don’t want to push. For example, maybe you want to push R code files (.R), but not data files (.csv). In this case, you can explicitly tell git that you don’t want it to pay any attention to .csv files by creating a .gitignore file. A .gitignore file is simply a text file in a git repository that indicates to git that the contents of that file should be ignored. Let’s do it. 18) Open the .gitignore file in RStudio. 19) Add the following line to it: *.csv The star is a “wildcard”, meaning that it stands in place of anything (such as ducks.csv or data.csv or xyz.csv). With this in your repo, git now knows to ignore anything that ends with the extension .csv. Good? Great. 20) Push everything to your repo (remember your 3 steps). Now you can share your code with others, and your future self. Further resources Using git from RStudio Hadley Wickham’s introduction to git + GitHub "],["kemri-datalab-summer-workbook.html", "Module 15 KEMRI &amp; DataLab Summer Workbook Day 1: June 11th Day 2: June 18th Day 3: June 25th Day 4: July 2nd", " Module 15 KEMRI &amp; DataLab Summer Workbook Day 1: June 11th This summer you all are going to work as a team and learn to code and also get to know one another. So what is a better way to get to know someone than by learning about their hometown? Today, in your groups you are going to put dots on a map that represent every person’s hometown from your group. Follow this document together as a team to make this map: Make your dataset 1. Make one Google sheet and title it: team_lat_lng with columns first_name, organization, LAT, and LNG. Note: make sure these columns are in this exact order, spelled exactly like this, with LAT and LNG in all caps! 2. Click ‘Share’ in the top right of the google sheet and in ‘General access’ click ‘Anyone with the link’. Note: this is important because in order to read data into R, it must be available to be accessed by everyone. 3. Input everyone’s name, organization (either DataLab or KEMRI), hometown latitude and longitude in the associated columns. To find your latitude and longitude, go to Google Maps, right click your hometown, then input the latitude (the first number) and longitude (the second number) from Google Maps into your Google sheet. As an example, we can tell from the following that Sewanee’s latitude is 35.20318 and Sewanee’s longitude is -85.92203 : Watch out! Just enter numbers for latitudes and longitudes, don’t include any letters indicating north, south, east, or west. Sewanee’s longitude is negative, since Sewanee is west of the prime meridian; Sewanee’s latitude is positive, since Sewanee is north of the equator. All done? Woohoo! You have your dataset! Load in your data 4. For the KEMRI team, make a folder called name_datalab on your desktop (make sure to put your name where I wrote name). Everyone, in your name_datalab folder make another folder called team_map. 5. Everyone open up RStudio, make an RScript called our_map.R, and save it into your team_map folder. 6. Starting now, make sure you comment every line of your script. So make a comment that says # set working directory and set your working directory to your team_map folder. 7. Load the following libraries (if you don’t have them make sure to install them with install.packages(): library(sf) library(tmap) library(tidyverse) library(gsheet) 8. Now, there are two ways to load in your data: Download the Google sheet as a csv file and and save it into your team_map folder. Then in your RScript load in the data and assign it to an object: locations &lt;- read_csv(&#39;team_lat_lng.csv&#39;) In your environment do you have locations? If so, great! Another simpler way to download the data is by using the following: # be sure to put the correct link inside the quotes below! locations &lt;- gsheet::gsheet2tbl(&#39;insert link&#39;) Still have locations after this? Wonderful! Make your map 9. Now that you have your locations object, we have to tell R what to do with it. First, format things correctly: # convert latitude and longitude into a geometry column: locations &lt;- st_as_sf( locations, coords = c(&quot;LNG&quot;, &quot;LAT&quot;), crs = &quot;WGS84&quot; ) 10. Now look at your locations object – you should see that you have POINTs in the geometry column. Since we have points instead of polygons, we need to use tmap’s tm_dots function instead of the tm_polygons function we’ve used to make our other maps. Here’s the code to make an interactive map with color-coded points: tmap_mode( &quot;view&quot; ) tmap_options( basemaps = providers$OpenStreetMap ) tm_shape( locations ) + tm_dots( col=&quot;organization&quot;, palette = &quot;Dark2&quot; ) Share your work Congratulations you did it! Save your image, share it in slack, and make sure everyone on your team has an RScript that works. Once you’ve done this you’re all set. Have a great day or night wherever you are in the world! Day 2: June 18th The request from the client Dear team, Today, we received some data from a PhD student from the Democratic Republic of the Congo. She has been collecting data over the past 2 years on a small subset of kids submitted to neonatology. Her supervisor has requested you to look at some of the following: outcome of delivery (baby is okay and if baby was admitted to nenotolagy) malaria during pregnancy weight, height and apgar completeness of variables numbers of variables the mean age of women number of kids submitted to icu/neonatology who went to clinic and who did not go to clinic how many had a single or double or triple delivery mean birth weight and height and range &amp; mean apgar and range difference time of when delivery was made (day vs. night) Overall, the client has requested a neonatology descriptive paper. Please send me an update once a week so that I can see how you are progressing, but I am excited to see the final product in 4 weeks time. Many thanks, Your super cool and suave boss Understanding the request and the data dictionary The first thing I do before diving into programming is look over the request and the data dictionary. Reading and understanding the request gives us an idea of what variables will be most important to us when reading the data dictionary. It is also important to define words and/or acronyms that you aren’t familiar with. It is vital to understand the data before using it, otherwise you might get unexpected results or unintentionally misuse or misrepresent the data. The data dictionary can be found here. Unfortunately, it is in another language that I can not speak or read. Fortunately, Google Translate allows you to upload a PDF to translate in full. Here is the result of Google’s translation: It is important to note that not all translations are accurate. If something is unclear or doesn’t make sense, investigate it. Once again, it is vital to understand the data before using it, otherwise you might get unexpected results or unintentionally misuse or misrepresent the data. Here is a list of words/acronyms I was unfamiliar with and their definitions according to Google: Neonatology - “the branch of medicine concerned with the treatment and care of newborn babies” Eutocic - “a normal birth, which happens without complications from the beginning to the end” APGAR - “The Apgar score is a quick way for health professionals to evaluate the health of all newborns at 1 and 5 minutes after birth and in response to resuscitation.” ANC - “Antenatal care (ANC) coverage is an indicator of access and use of health care during pregnancy.” IPTp - “Intermittent preventive therapy or intermittent preventive treatment is a public health intervention aimed at treating and preventing malaria episodes in infants, children, schoolchildren and pregnant women.” Hematocrit - “the ratio of the volume of red blood cells to the total volume of blood” Neonate - “a newborn child” Neutrophils - “Neutrophils are a type of white blood cell (leukocytes) that act as your immune system’s first line of defense.” Leukocytes - “a type of blood cell that is made in the bone marrow and found in the blood and lymph tissue” Eosinophils - “Eosinophils, sometimes called eosinophiles or, less commonly, acidophils, are a variety of white blood cells and one of the immune system components responsible for combating multicellular parasites and certain infections in vertebrates.” One important question I have is “What are the expected values of the APGAR score?” There are 5 parts to an Apgar score. Each category is weighted evenly and assigned a 0, 1, or 2 value. The components are then added to give a score recorded 1 and 5 minutes after birth. A score of 7 to 10 is considered reassuring, a score of 4 to 6 is moderately abnormal, and a score of 0 to 3 is deemed low in full-term and late preterm infants, at 5 minutes, when an infant has a score of &lt;7, Neonatal Resuscitation Program guidelines recommend continued recording at 5-minute intervals up to 20 minutes. Scoring during resuscitation is not equivalent to an infant not undergoing resuscitation because resuscitative efforts alter several score elements. Given this information, we should expect the APGAR scores to fall withing 0 and 10, which matches the data dictionary. If any scores are outside of that range, it is clearly an error. Loading libraries and the Democratic Republic of the Congo neonatology data Error in open.connection(structure(5L, class = c(&quot;curl&quot;, &quot;connection&quot;), conn_id = &lt;pointer: 0x00000000000006fa&gt;), : HTTP error 404. Exploring the data Seeing what columns we have [1] &quot;...1&quot; &quot;country&quot; &quot;indicator_name&quot; [4] &quot;ISO3&quot; &quot;region_name&quot; &quot;unit_of_measure&quot; [7] &quot;value&quot; &quot;year&quot; Wow, that’s a lot of columns! Do note that a lot, if not all, of the ‘anc_vx_…’ columns, where x is a number, are detailed in the data dictionary in the variables that have ‘V1’ in the name. The highest value of x that I’ve seen is 11, meaning that for each of those variables, there may be up to 11 columns representing different visits. Let’s check to make sure. We should expect 11 instances of these 27 columns corresponding to each potential visit, which is a total of 297 columns. The code below checks if the expected ‘anc_v1_…’ through ‘anc_v11_…’ columns are in the data frame and prints out the ones that are missing. [1] &quot;anc_v1_crp&quot; [2] &quot;anc_v1_date&quot; [3] &quot;anc_v1_eo%&quot; [4] &quot;anc_v1_gestational_age&quot; [5] &quot;anc_v1_hb&quot; [6] &quot;anc_v1_hto%&quot; [7] &quot;anc_v1_l%&quot; [8] &quot;anc_v1_malaria_test_a&quot; [9] &quot;anc_v1_malaria_test_b&quot; [10] &quot;anc_v1_malaria_test_detail_a&quot; [11] &quot;anc_v1_malaria_test_detail_b&quot; [12] &quot;anc_v1_malaria_test_results_a&quot; [13] &quot;anc_v1_malaria_test_results_b&quot; [14] &quot;anc_v1_malaria_treatment_a&quot; [15] &quot;anc_v1_malaria_treatment_b&quot; [16] &quot;anc_v1_malaria_treatment_c&quot; [17] &quot;anc_v1_malaria_treatment_detail_a&quot; [18] &quot;anc_v1_malaria_treatment_detail_b&quot; [19] &quot;anc_v1_malaria_treatment_detail_c&quot; [20] &quot;anc_v1_neu%&quot; [21] &quot;anc_v1_plt&quot; [22] &quot;anc_v1_treatment_other&quot; [23] &quot;anc_v1_treatment_other_detail&quot; [24] &quot;anc_v1_urine&quot; [25] &quot;anc_v1_urine_detail&quot; [26] &quot;anc_v1_wbc&quot; [27] &quot;anc_v1_weight&quot; [28] &quot;anc_v10_crp&quot; [29] &quot;anc_v10_date&quot; [30] &quot;anc_v10_eo%&quot; [31] &quot;anc_v10_gestational_age&quot; [32] &quot;anc_v10_hb&quot; [33] &quot;anc_v10_hto%&quot; [34] &quot;anc_v10_l%&quot; [35] &quot;anc_v10_malaria_test_a&quot; [36] &quot;anc_v10_malaria_test_b&quot; [37] &quot;anc_v10_malaria_test_detail_a&quot; [38] &quot;anc_v10_malaria_test_detail_b&quot; [39] &quot;anc_v10_malaria_test_results_a&quot; [40] &quot;anc_v10_malaria_test_results_b&quot; [41] &quot;anc_v10_malaria_treatment_a&quot; [42] &quot;anc_v10_malaria_treatment_b&quot; [43] &quot;anc_v10_malaria_treatment_c&quot; [44] &quot;anc_v10_malaria_treatment_detail_a&quot; [45] &quot;anc_v10_malaria_treatment_detail_b&quot; [46] &quot;anc_v10_malaria_treatment_detail_c&quot; [47] &quot;anc_v10_neu%&quot; [48] &quot;anc_v10_plt&quot; [49] &quot;anc_v10_treatment_other&quot; [50] &quot;anc_v10_treatment_other_detail&quot; [51] &quot;anc_v10_urine&quot; [52] &quot;anc_v10_urine_detail&quot; [53] &quot;anc_v10_wbc&quot; [54] &quot;anc_v10_weight&quot; [55] &quot;anc_v11_crp&quot; [56] &quot;anc_v11_date&quot; [57] &quot;anc_v11_eo%&quot; [58] &quot;anc_v11_gestational_age&quot; [59] &quot;anc_v11_hb&quot; [60] &quot;anc_v11_hto%&quot; [61] &quot;anc_v11_l%&quot; [62] &quot;anc_v11_malaria_test_a&quot; [63] &quot;anc_v11_malaria_test_b&quot; [64] &quot;anc_v11_malaria_test_detail_a&quot; [65] &quot;anc_v11_malaria_test_detail_b&quot; [66] &quot;anc_v11_malaria_test_results_a&quot; [67] &quot;anc_v11_malaria_test_results_b&quot; [68] &quot;anc_v11_malaria_treatment_a&quot; [69] &quot;anc_v11_malaria_treatment_b&quot; [70] &quot;anc_v11_malaria_treatment_c&quot; [71] &quot;anc_v11_malaria_treatment_detail_a&quot; [72] &quot;anc_v11_malaria_treatment_detail_b&quot; [73] &quot;anc_v11_malaria_treatment_detail_c&quot; [74] &quot;anc_v11_neu%&quot; [75] &quot;anc_v11_plt&quot; [76] &quot;anc_v11_treatment_other&quot; [77] &quot;anc_v11_treatment_other_detail&quot; [78] &quot;anc_v11_urine&quot; [79] &quot;anc_v11_urine_detail&quot; [80] &quot;anc_v11_wbc&quot; [81] &quot;anc_v11_weight&quot; [82] &quot;anc_v2_crp&quot; [83] &quot;anc_v2_date&quot; [84] &quot;anc_v2_eo%&quot; [85] &quot;anc_v2_gestational_age&quot; [86] &quot;anc_v2_hb&quot; [87] &quot;anc_v2_hto%&quot; [88] &quot;anc_v2_l%&quot; [89] &quot;anc_v2_malaria_test_a&quot; [90] &quot;anc_v2_malaria_test_b&quot; [91] &quot;anc_v2_malaria_test_detail_a&quot; [92] &quot;anc_v2_malaria_test_detail_b&quot; [93] &quot;anc_v2_malaria_test_results_a&quot; [94] &quot;anc_v2_malaria_test_results_b&quot; [95] &quot;anc_v2_malaria_treatment_a&quot; [96] &quot;anc_v2_malaria_treatment_b&quot; [97] &quot;anc_v2_malaria_treatment_c&quot; [98] &quot;anc_v2_malaria_treatment_detail_a&quot; [99] &quot;anc_v2_malaria_treatment_detail_b&quot; [100] &quot;anc_v2_malaria_treatment_detail_c&quot; [101] &quot;anc_v2_neu%&quot; [102] &quot;anc_v2_plt&quot; [103] &quot;anc_v2_treatment_other&quot; [104] &quot;anc_v2_treatment_other_detail&quot; [105] &quot;anc_v2_urine&quot; [106] &quot;anc_v2_urine_detail&quot; [107] &quot;anc_v2_wbc&quot; [108] &quot;anc_v2_weight&quot; [109] &quot;anc_v3_crp&quot; [110] &quot;anc_v3_date&quot; [111] &quot;anc_v3_eo%&quot; [112] &quot;anc_v3_gestational_age&quot; [113] &quot;anc_v3_hb&quot; [114] &quot;anc_v3_hto%&quot; [115] &quot;anc_v3_l%&quot; [116] &quot;anc_v3_malaria_test_a&quot; [117] &quot;anc_v3_malaria_test_b&quot; [118] &quot;anc_v3_malaria_test_detail_a&quot; [119] &quot;anc_v3_malaria_test_detail_b&quot; [120] &quot;anc_v3_malaria_test_results_a&quot; [121] &quot;anc_v3_malaria_test_results_b&quot; [122] &quot;anc_v3_malaria_treatment_a&quot; [123] &quot;anc_v3_malaria_treatment_b&quot; [124] &quot;anc_v3_malaria_treatment_c&quot; [125] &quot;anc_v3_malaria_treatment_detail_a&quot; [126] &quot;anc_v3_malaria_treatment_detail_b&quot; [127] &quot;anc_v3_malaria_treatment_detail_c&quot; [128] &quot;anc_v3_neu%&quot; [129] &quot;anc_v3_plt&quot; [130] &quot;anc_v3_treatment_other&quot; [131] &quot;anc_v3_treatment_other_detail&quot; [132] &quot;anc_v3_urine&quot; [133] &quot;anc_v3_urine_detail&quot; [134] &quot;anc_v3_wbc&quot; [135] &quot;anc_v3_weight&quot; [136] &quot;anc_v4_crp&quot; [137] &quot;anc_v4_date&quot; [138] &quot;anc_v4_eo%&quot; [139] &quot;anc_v4_gestational_age&quot; [140] &quot;anc_v4_hb&quot; [141] &quot;anc_v4_hto%&quot; [142] &quot;anc_v4_l%&quot; [143] &quot;anc_v4_malaria_test_a&quot; [144] &quot;anc_v4_malaria_test_b&quot; [145] &quot;anc_v4_malaria_test_detail_a&quot; [146] &quot;anc_v4_malaria_test_detail_b&quot; [147] &quot;anc_v4_malaria_test_results_a&quot; [148] &quot;anc_v4_malaria_test_results_b&quot; [149] &quot;anc_v4_malaria_treatment_a&quot; [150] &quot;anc_v4_malaria_treatment_b&quot; [151] &quot;anc_v4_malaria_treatment_c&quot; [152] &quot;anc_v4_malaria_treatment_detail_a&quot; [153] &quot;anc_v4_malaria_treatment_detail_b&quot; [154] &quot;anc_v4_malaria_treatment_detail_c&quot; [155] &quot;anc_v4_neu%&quot; [156] &quot;anc_v4_plt&quot; [157] &quot;anc_v4_treatment_other&quot; [158] &quot;anc_v4_treatment_other_detail&quot; [159] &quot;anc_v4_urine&quot; [160] &quot;anc_v4_urine_detail&quot; [161] &quot;anc_v4_wbc&quot; [162] &quot;anc_v4_weight&quot; [163] &quot;anc_v5_crp&quot; [164] &quot;anc_v5_date&quot; [165] &quot;anc_v5_eo%&quot; [166] &quot;anc_v5_gestational_age&quot; [167] &quot;anc_v5_hb&quot; [168] &quot;anc_v5_hto%&quot; [169] &quot;anc_v5_l%&quot; [170] &quot;anc_v5_malaria_test_a&quot; [171] &quot;anc_v5_malaria_test_b&quot; [172] &quot;anc_v5_malaria_test_detail_a&quot; [173] &quot;anc_v5_malaria_test_detail_b&quot; [174] &quot;anc_v5_malaria_test_results_a&quot; [175] &quot;anc_v5_malaria_test_results_b&quot; [176] &quot;anc_v5_malaria_treatment_a&quot; [177] &quot;anc_v5_malaria_treatment_b&quot; [178] &quot;anc_v5_malaria_treatment_c&quot; [179] &quot;anc_v5_malaria_treatment_detail_a&quot; [180] &quot;anc_v5_malaria_treatment_detail_b&quot; [181] &quot;anc_v5_malaria_treatment_detail_c&quot; [182] &quot;anc_v5_neu%&quot; [183] &quot;anc_v5_plt&quot; [184] &quot;anc_v5_treatment_other&quot; [185] &quot;anc_v5_treatment_other_detail&quot; [186] &quot;anc_v5_urine&quot; [187] &quot;anc_v5_urine_detail&quot; [188] &quot;anc_v5_wbc&quot; [189] &quot;anc_v5_weight&quot; [190] &quot;anc_v6_crp&quot; [191] &quot;anc_v6_date&quot; [192] &quot;anc_v6_eo%&quot; [193] &quot;anc_v6_gestational_age&quot; [194] &quot;anc_v6_hb&quot; [195] &quot;anc_v6_hto%&quot; [196] &quot;anc_v6_l%&quot; [197] &quot;anc_v6_malaria_test_a&quot; [198] &quot;anc_v6_malaria_test_b&quot; [199] &quot;anc_v6_malaria_test_detail_a&quot; [200] &quot;anc_v6_malaria_test_detail_b&quot; [201] &quot;anc_v6_malaria_test_results_a&quot; [202] &quot;anc_v6_malaria_test_results_b&quot; [203] &quot;anc_v6_malaria_treatment_a&quot; [204] &quot;anc_v6_malaria_treatment_b&quot; [205] &quot;anc_v6_malaria_treatment_c&quot; [206] &quot;anc_v6_malaria_treatment_detail_a&quot; [207] &quot;anc_v6_malaria_treatment_detail_b&quot; [208] &quot;anc_v6_malaria_treatment_detail_c&quot; [209] &quot;anc_v6_neu%&quot; [210] &quot;anc_v6_plt&quot; [211] &quot;anc_v6_treatment_other&quot; [212] &quot;anc_v6_treatment_other_detail&quot; [213] &quot;anc_v6_urine&quot; [214] &quot;anc_v6_urine_detail&quot; [215] &quot;anc_v6_wbc&quot; [216] &quot;anc_v6_weight&quot; [217] &quot;anc_v7_crp&quot; [218] &quot;anc_v7_date&quot; [219] &quot;anc_v7_eo%&quot; [220] &quot;anc_v7_gestational_age&quot; [221] &quot;anc_v7_hb&quot; [222] &quot;anc_v7_hto%&quot; [223] &quot;anc_v7_l%&quot; [224] &quot;anc_v7_malaria_test_a&quot; [225] &quot;anc_v7_malaria_test_b&quot; [226] &quot;anc_v7_malaria_test_detail_a&quot; [227] &quot;anc_v7_malaria_test_detail_b&quot; [228] &quot;anc_v7_malaria_test_results_a&quot; [229] &quot;anc_v7_malaria_test_results_b&quot; [230] &quot;anc_v7_malaria_treatment_a&quot; [231] &quot;anc_v7_malaria_treatment_b&quot; [232] &quot;anc_v7_malaria_treatment_c&quot; [233] &quot;anc_v7_malaria_treatment_detail_a&quot; [234] &quot;anc_v7_malaria_treatment_detail_b&quot; [235] &quot;anc_v7_malaria_treatment_detail_c&quot; [236] &quot;anc_v7_neu%&quot; [237] &quot;anc_v7_plt&quot; [238] &quot;anc_v7_treatment_other&quot; [239] &quot;anc_v7_treatment_other_detail&quot; [240] &quot;anc_v7_urine&quot; [241] &quot;anc_v7_urine_detail&quot; [242] &quot;anc_v7_wbc&quot; [243] &quot;anc_v7_weight&quot; [244] &quot;anc_v8_crp&quot; [245] &quot;anc_v8_date&quot; [246] &quot;anc_v8_eo%&quot; [247] &quot;anc_v8_gestational_age&quot; [248] &quot;anc_v8_hb&quot; [249] &quot;anc_v8_hto%&quot; [250] &quot;anc_v8_l%&quot; [251] &quot;anc_v8_malaria_test_a&quot; [252] &quot;anc_v8_malaria_test_b&quot; [253] &quot;anc_v8_malaria_test_detail_a&quot; [254] &quot;anc_v8_malaria_test_detail_b&quot; [255] &quot;anc_v8_malaria_test_results_a&quot; [256] &quot;anc_v8_malaria_test_results_b&quot; [257] &quot;anc_v8_malaria_treatment_a&quot; [258] &quot;anc_v8_malaria_treatment_b&quot; [259] &quot;anc_v8_malaria_treatment_c&quot; [260] &quot;anc_v8_malaria_treatment_detail_a&quot; [261] &quot;anc_v8_malaria_treatment_detail_b&quot; [262] &quot;anc_v8_malaria_treatment_detail_c&quot; [263] &quot;anc_v8_neu%&quot; [264] &quot;anc_v8_plt&quot; [265] &quot;anc_v8_treatment_other&quot; [266] &quot;anc_v8_treatment_other_detail&quot; [267] &quot;anc_v8_urine&quot; [268] &quot;anc_v8_urine_detail&quot; [269] &quot;anc_v8_wbc&quot; [270] &quot;anc_v8_weight&quot; [271] &quot;anc_v9_crp&quot; [272] &quot;anc_v9_date&quot; [273] &quot;anc_v9_eo%&quot; [274] &quot;anc_v9_gestational_age&quot; [275] &quot;anc_v9_hb&quot; [276] &quot;anc_v9_hto%&quot; [277] &quot;anc_v9_l%&quot; [278] &quot;anc_v9_malaria_test_a&quot; [279] &quot;anc_v9_malaria_test_b&quot; [280] &quot;anc_v9_malaria_test_detail_a&quot; [281] &quot;anc_v9_malaria_test_detail_b&quot; [282] &quot;anc_v9_malaria_test_results_a&quot; [283] &quot;anc_v9_malaria_test_results_b&quot; [284] &quot;anc_v9_malaria_treatment_a&quot; [285] &quot;anc_v9_malaria_treatment_b&quot; [286] &quot;anc_v9_malaria_treatment_c&quot; [287] &quot;anc_v9_malaria_treatment_detail_a&quot; [288] &quot;anc_v9_malaria_treatment_detail_b&quot; [289] &quot;anc_v9_malaria_treatment_detail_c&quot; [290] &quot;anc_v9_neu%&quot; [291] &quot;anc_v9_plt&quot; [292] &quot;anc_v9_treatment_other&quot; [293] &quot;anc_v9_treatment_other_detail&quot; [294] &quot;anc_v9_urine&quot; [295] &quot;anc_v9_urine_detail&quot; [296] &quot;anc_v9_wbc&quot; [297] &quot;anc_v9_weight&quot; It appears that we are missing the above 16 “anc_vx” columns. Let’s continue to look through the remaining columns to make sure that they are in the data dictionary and make sense. [1] &quot;...1&quot; &quot;country&quot; &quot;indicator_name&quot; [4] &quot;ISO3&quot; &quot;region_name&quot; &quot;unit_of_measure&quot; [7] &quot;value&quot; &quot;year&quot; These all look good to me! As far as I can tell, the only columns missing that are in the data dictionary are mother’s first name, mother’s last name, mother’s phone number 1, mother’s phone number 2, baby 1’s first name, baby 1’s last name, baby 2’s first name, and baby 2’s last name. These columns have been intentionally removed from the data beforehand to keep the data as anonymous as possible while still being useful. Removing an obvious error Error in `filter()`: ℹ In argument: `mother_chart_number != &quot;mother_chart_number&quot;`. Caused by error: ! object &#39;mother_chart_number&#39; not found Notice that I’ve made a separate data frame for cleaning. This makes it easier to rerun code without having to completely reload the data from the source. It also makes it easy to compare the original data with the modified data. NOTE: Never remove or modify the original data from the source, even if it is obviously incorrect! Always work on a copy of the data! If you modify the original data and your changes end up being incorrect, then you’ve tampered with the data and potentially ruined the entire data set. Another advantage of working on a copy of the data and cleaning it with code is that it documents everything we do, making what we’ve done clear and reproducible. Fortunately in this case, our source data isn’t something we can modify directly; however, there are cases in which you might be given the source data in an unprotected way that would allow you to overwrite it. An example of this would be using the googlesheets4 library, which allows you to read and write directly to a Google sheet. This can dangerous if you aren’t careful! Checking that the marital statuses are valid According to the data dictionary, acceptable values are ‘M’ for married, ‘C’ for single, and ‘non reporté’ for not reported. I’ll also treat NA values as if they were ‘non reporté’ since both mean that the value is missing for that row. There are values of ‘D’ for marital_status, which is not in the data dictionary. It might mean divorced; however, it’s best to talk to the client before assuming anything. It could also be an error inputting the value ‘C’, since the two letters look similar. For now, I’ll keep those values in the data. To remove them though, I’d use the code below. Once again, I’ve set the chunk’s eval flag to FALSE to prevent it from running. To run it, change the flag back to eval = TRUE. Also, notice that I’ve used the tolower() function. The values in the column may be capitalized in inconsistent ways. Forcing them all to be lowercase in the filter function allows us to ignore the inconsistent capitalization without changing the actual data to all lowercase. You can permanently change the data to lowercase using the mutate() function; however, in some scenarios, the capitalization might be important, especially when it comes to acronyms and abbreviations. Checking that the malaria diagnosis during pregnancy values are valid The data dictionary defines this variable as having a value of ‘non’ for no, ‘oui’ for yes, and ‘non reporté’ for not reported. Once again, I’ll treat NA values as if they were ‘non reporté’ and ignore them. To remove these erroneous values, I’d use the code below. Once again, I’ve set the chunk’s eval flag to FALSE to prevent it from running. To run it, change the flag back to eval = TRUE. Checking the delivery complication values The data dictionary doesn’t define all of the possible values for this column, so I’ve decided to explore all of the unique values in our data. It would be a great idea to look at these closer on an individual level to understand what each value means and whether or not it is appropriate for this column. We can also see that some of the values appear to be the same but are written in different ways. Checking the time of delivery values The time of delivery values vary in format. It may be best to remove delivery times not in the format of ‘HH:MM’, ‘H:MM’, NA, or ‘non reporté’. The following code does so, but I’ve set the eval flag to FALSE to prevent it from running. Checking the weight at birth values The data dictionary defines these columns as the baby’s weight in grams at birth, so let’s check for values that aren’t numeric, NA, or ‘non reporté’. There are two instances of the second baby’s weight being ‘M’. That doesn’t make sense! Here’s how to keep only the numeric, NA, or ‘non reporté’ values and filter out the rest. Once again, I’ve set the chunk’s eval flag to FALSE to prevent it from running. To run it, change the flag back to eval = TRUE. Another thing to ask is, “Do the reported weights actually make sense?” Remember, the units should be in grams! [1] 9 41000 Some of these baby weights make no sense! The maximum baby weight in the data is 41,000 grams, which is a whopping 90.389527 pounds! The minimum baby weight in the data is 9 grams, which is only 0.0198416 pounds! This is definitely something to discuss with the client. Checking the neonatology admittance variable The expected values of the neonatology admittance columns are ‘Oui’ and ‘Non’. Let’s find all of the unique values of these columns to check if they match our expectations. Once again, capitalization matters! It also appears that there are some typos and unexpected values! Summary This is NOT a comprehensive cleaning script for this data. There is a lot more work to be done; however, this is a good starting point. The purpose of this document is to show you my thought process and the techniques I use to clean data. As you use the data, you will inevitably find more issues and realize that there’s more cleaning to be done. Sometimes it isn’t obvious that there is a mistake in the data even after you’ve generated visualizations and run tests on it, so it is vital to do your due diligence and get to know your data BEFORE using it. This process can be disheartening, but remember, the work we are doing matters and it is worth every second to go back and add to or modify our cleaning scripts. Not only is it the responsible and moral thing to do, it’s also what we are paid to do! I cannot stress enough the importance of looking deeper into the data to find out what we are working with and why we get the results that we get. The accuracy and reliability of our findings, as well as the reputation of ourselves, our organization, and any other affiliations are on the line! Day 3: June 25th As a team work together to answer the following questions to make a mini-report on the DRC dataset: 1. Open up an RMarkdown file and save it in your name_datalab folder and call it descriptive_DRC_analysis.Rmd and title the document Neonatal mortality in DRC Congo. 2. Click knit. What do you see? As a team discuss what you want to delete and keep and make sure everyone knows what an RMarkdown file is before moving forward. 3. Make another section called Introduction (hint: use one hashtag to make a title). In the introduction include the following information and replace the _ with information you find in the appropriate links: Globally _ million children died in the first 20 days of life in 2022. There are approximately _ newborn deaths every day, amounting to _% of all child deaths under the age of 5 years (WHO, 2024)[https://www.who.int/news-room/fact-sheets/detail/newborn-mortality]. Up to _ of newborn deaths can be prevented if known and if effective health measures are provided at birth and during the first week of life. The vast majority of newborn deaths take place in developing countries where access to health care is low. Most of these newborns die at home, without skilled care that could greatly increase their chances for survival (WHO)[https://www.afro.who.int/health-topics/newborn]. Malaria is common during pregnancy and can have serious consequences for neonatal health. Neonatal morbidity and mortality can be significantly reduced by proper implementation of insecticide-treated nets and intermittent preventive treatment (source)[https://pubmed.ncbi.nlm.nih.gov/21118620/]. The WHO African Region carries a disproportionately high share of the global malaria burden. In 2022, the Region was home to 94% of malaria cases (233 million) and 95% (580,000) of malaria deaths. DRC Congo accounted for 12% of all malaria in the world in 2022. DRC is one of the poorest countries in the world (source)[https://www.cia.gov/the-world-factbook/countries/congo-democratic-republic-of-the/]. The health care system in DRC is highly dependent of private actors. Care-seeking and treatment for malaria in the private sector (including non-profit and faith-based facilities, for-profit clinics, pharmacies, and drug shops) is widespread. According to the 2013-2014 Demographic and Health Survey (DHS), among children with fever, _ percent report seeking care in the public sector and _ percent in the private sector (source)[https://www.severemalaria.org/countries/democratic-republic-of-congo/drc-health-system]. 4. Make another section called Aims/Objective and insert the following: We will work together to generate hypothesis around delivery outcomes and interrogate this dataset in search for answers. 5. Make a section called Preliminary Research and under this section title create a code chunk. 6. Paste the following in a code chunk to hide messages and your code when you knit your document: Error: &lt;text&gt;:2:3: unexpected &#39;,&#39; 1: 2: {r, ^ 7. Paste the following inside your code chunk to load your libraries and load your data: # load libraries library(readr) library(lubridate) library(dplyr) # download data df &lt;- read_csv(&#39;https://mbrudd.com/drc_data/DRC_data_clean_v1.csv&#39;) 8. How many columns are in this dataset? (Hint: ncol()) 9 Create an object that contains the number of columns in the dataset. See below for a hint: # create an object that has the number of columns from the dataset df_col_num &lt;- ncol(df) 10. Now the first sentence in your Preliminary Research should be: This dataset contains 380 columns. You know how to write words on your RMarkdown, but to insert a number that is stored as an object in your environment try the following: This dataset contains `r df_col_num` columns. 11. Now add and 2072 variables. but use code to write the number… 12. What is the unit of observation for this dataset? Does each row have a mom and her kids in it? I don’t know you tell me. Write a sentence about the unit of observation after the sentence you wrote above. 13. Find the mean age of women submitted to the unit. To do this convert mother_dob and your reference date (delivery_date) to a date. Create a column called mother_age. Then find the mean age of women submitted to the unit. # convert mother_dob and delivery_date to a date df_research &lt;- df %&gt;% mutate(mother_dob = as.Date(mother_dob, format = &quot;%m/%d/%y&quot;), delivery_date = as.Date(delivery_date, format = &quot;%m/%d/%y&quot;)) # create a column called mother_age df_research &lt;- df_research %&gt;% mutate(mother_age = as.numeric(difftime(delivery_date, mother_dob, units = &quot;weeks&quot;)) / 52.25) # create an object called mean_mother_age mean_mother_age &lt;- mean(df_research$mother_age, na.rm = TRUE) 14. Add a sentence to your Preliminary Research that says what the mean age of women is. 15. How many kids were submitted to neonatology? This information is in 2 columns: neonatology_admission_baby_1 and neonatology_admission_baby_2. A. lower all the words in the column (hint: tolower()). B. run table(df_research$neonatology_admission_baby_1), if there are values that you think are errors remove them using filter() OR if there are values that you think you can edit use mutate() and ifelse / case_when to fix these instances. C. count how many kids were and were not submitted to neonatology in each column. D. Add these values to your paragraph. Use the following code to answer this question: # calculate how many kids were submitted to neonatology df_research &lt;- df_research %&gt;% # lower all the words in the column mutate(neonatology_admission_baby_1 = tolower(neonatology_admission_baby_1)) %&gt;% # filter out entries that are wrong filter(neonatology_admission_baby_1 != &#39;bb lusamba mukeba&#39;) %&gt;% # edit the cases that seem fixable mutate(neonatology_admission_baby_1 = case_when( neonatology_admission_baby_1 == &#39;oiui&#39; ~ &#39;oui&#39;, TRUE ~ neonatology_admission_baby_1 )) # calculate who was and was not submitted to neonatology (this table should only have oui and non) df_research %&gt;% group_by(neonatology_admission_baby_1) %&gt;% tally() # once you get here you can do this again for neonatology_admission_baby_2 and then calculate how many children in total were and were not submitted to neonatology NOTE: the code above will not get you the answer, you will have to edit it. Good work! You made a lot of progress today. We will pick up next week to keep working on your report. Day 4: July 2nd Last week you began working on descriptives of the DRC data. This week you will continue on the descriptives for the DRC data in order to make a report. First, let’s finish the descriptives. 1. Open up your RMarkdown file from last week. The client has shared even more data with us so we need to load in the most up to date data. Run the following line of code where you originally load in the data: # download data df &lt;- read_csv(&#39;https://mbrudd.com/drc_data/DRC_data_v3.csv&#39;) 2. Re-run your code from last week. Does it work? If not, edit the sections of code that you need to in order to make your RMarkdown work and is correct. 3. Now that your RScript works your goal is to finish the descriptive tables for the DRC data. Finish questions 1 through 15 from last week. Finished the questions from last week? Great! Time to move onto the final descriptive pieces. Some of the following questions you may have done last week so move forward until you are at a question that you have not completed yet. 4. How many women had malaria during pregnancy? To do this let’s find the variable. Look at the code book pasted above. Does the variable malaria_diagnosis look like the right variable? How does the variable look? Is it clean or do we need to edit some of the responses in order to calculate how many women had malaria during pregnancy? Be sure to add this number to your report as a sentence. 5. On average of the women who have had malaria during pregnancy how many times have they had malaria? Hint: number_malaria_diagnosis is the variable to use and you can follow the instructions from the question above. 6. Of the babies born, how many males and females are there? Hint: baby_1_sex, baby_2_sex 7. Find mean birth weight and height and the range of all babies. For this try creating an object called baby_1 that only has the columns that you need and another object called baby_2 with the columns that you need. How do the responses inside those columns look? Do they need to be edited? Once the columns look good, rename the columns of each dataset so that they match and then use the following code to merge the objects together and perform the calculations from there. Hint: weight_at_birth_baby_1, weight_at_birth_baby_2 # merge the datasets that you make in order to find mean birth weight and height and range baby_1_2 &lt;- bind_rows(baby_1, baby_2) 8. Find mean apgar and range. To do this add the necessary columns to your baby_1_2 datasets (apgar_1_baby_1, apgar_5_baby_1, apgar_10_baby_1, apgar_1_baby_2, apgar_5_baby_2, apgar_10_baby_2) then calculate. Do these answers make sense according to general APGAR scores? Google what a normal APGAR score is. Make a note of how many abnormal APGAR scores are are in each column. Then create a new dataset called apgar_df and filter out any abnormal APGAR scores and re-calculate the mean apgar and range. 9. How many people were born in the day and the night? Again, for this question add the necessary columns to the data_1_2 dataset (time_of_delivery_baby_1, time_of_delivery_baby_2). Be sure to make this column into a date time type and then make a new column called day_or_night. From there determine how many babies were born in the day and in the night. Add this information to your report. 10. How many single and double deliveries were there? Talk as a team and come up with a way to determine this. Maybe think about how there are columns specifically for baby_1 and for baby_2… 11. In relation to the question above, is there a baby_3? Does that mean there could be a triple delivery? If so, tell me how many triple deliveries there were. 12. Make a table of all the outcomes of delivery. Don’t edit the information in the data. Make this table print in your report. Hint: baby_1_outcome, etc. 13. Knit your report. Do you have any errors? If so, fix’em. If not, how does your report read? Does it make sense? Edit the report so that if you gave it to your client today, they would understand what you did and why you did it. 14. How does your code look? Could someone who had never seen your RScript before be able to understand what you are doing and why? Go back and comment your code and make sure your code is reproducible! 15. Good work today! Next week you will do some exploration on your own, but these descriptives serve as a good base to move forward. Have 1 person from your team send their RMarkdown in the DataLab slack. Once your done talk with your team about what you would like to look into next week and maybe ask about each other’s lives outside of coding… "],["cleaning-messy-data.html", "Module 16 Cleaning Messy Data Your mission", " Module 16 Cleaning Messy Data Learning goals This is a review exercise: learn the skills introduced in the previous modules by applying them to a universal data science scenario: cleaning up messy data. Your mission Use the following code to load and peek at the following dataset: library(dplyr) library(readr) dives &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/whales-dives.csv&#39;) head(dives) This dataframe is nice and tidy. Here are a few of its many tidy features: Each row is a single observation. There is not a single missing value anywhere in the dataset. The rows are organized from earliest to most recent, based on the data embedded in the sit column. Categorical columns have standardized formatting. In the species column, there are two levels: HW (humpback whale) and FW (fin whale). In the behavior column, there are also two levels: FEED andOTHER. But this dataset was not always so pretty. Here is the original data file: messy_dives &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/whales-dives-messy.csv&#39;) head(messy_dives) Your task in this review exercise is to write a script that carries out the necessary data cleaning steps to get this dataset from its original form to its tidy form. Test your work along the way, then demonstrate its completion, using the identical() function. If your my_dives version of the dataset is identical to the dives data above, the following logical test will be TRUE: identical(dives,my_dives) Enjoy! "],["sentiment-analysis-with-survey-data.html", "Module 17 Sentiment analysis with survey data", " Module 17 Sentiment analysis with survey data   1. Start a new script. Name it “sentiment.R”. 2. Set up your work space by loading the ggplot2, dplyr, tidytext, gsheet, wordcloud2, sentimentr, and lubridate packages. 3. Read in your survey data by running the following: survey &lt;- gsheet::gsheet2tbl(&#39;https://docs.google.com/spreadsheets/d/1W9eGIihIHppys3LZe5FNbUuaIi_tfdscIq521lidRBU/edit?usp=sharing&#39;) 4. Take a look at the first few rows of the data. What is the unit of observation? 5. Create a variable named date_time in your survey data. This should be based on the Timestamp variable. Use the mdy_hms variable to created a “date-time” object. 6. Create a visualization of the date_time variable. 7. Create an object called sentiments by running the following: sentiments &lt;- get_sentiments(&#39;bing&#39;) 8. Explore the sentiments object. How many rows? How many columns? What is the unit of observation. 9. Create an object named words by running the following: words &lt;- survey %&gt;% dplyr::select(first_name, feeling_num, feeling) %&gt;% unnest_tokens(word, feeling) 10. Explore words. What is the unit of observation. 11. Look up the help documentation for the function wordcloud2. What does it expect as the first argument of the function? 12. Create a dataframe named word_freq. This should be a dataframe which is conformant with the expectation of wordcloud2, showing how frequently each word appeared in our feelings. 13. Make a word cloud. 14. Run the below to create an object named sw. sw &lt;- read_csv(&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/stopwords.csv&#39;) 15. What is the sw object all about? Explore it a bit. 16. Remove from word_freq any rows in which the word appears in sw. 17. Make a new word cloud. 18. Make an object with the top 10 words used only. Name this object top10. 19. Create a bar chart showing the number of times the top10 words were used. 20. Run the below to join word_freq with sentiments. 21. Now explore the data. What is going on? 22. For the whole survey, were there more negative or positive sentiment words used? 23. Create an object with the number of negative and positive words used for each person. 24. In that object, create a new variabled named sentimentality, which is the number of positive words minus the number of negative words. 25. Make a histogram of senitmentality 26. Make a barplot of sentimentality. 27. Create a wordcloud for the dream variable. 28. Create a barplot showing the top 16 words in our dreams. 29. Which word showed up most in people’s description of Joe? 30. Make a histogram of feeling_num. 31. Make a density chart of feeling_num. 32. Change the above plot to facet it by gender. 33. How many people mentioned Ryan Gosling in their description of Joe? 34. Is there a correlation between the sentimentality of people’s feeling and their feeling_num? "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
